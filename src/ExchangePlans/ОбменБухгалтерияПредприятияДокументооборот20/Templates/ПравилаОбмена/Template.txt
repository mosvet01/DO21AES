<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>3c16725e-2dda-4919-955f-b5d00af199a8    </Ид>
	<Наименование>ДО КОРП 2.1 --&gt; БП КОРП 3</Наименование>
	<ДатаВремяСоздания>2022-11-11T12:51:10</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.1.31" СинонимКонфигурации="Документооборот 8, редакция  2.1">Документооборот21</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.121" СинонимКонфигурации="Бухгалтерия предприятия КОРП, редакция 3.0">БухгалтерияПредприятияКОРП</Приемник>
	<ПослеПолученияИнформацииОбУзлахОбмена>// дополним табличные части узла новыми видами документов, если необходимо, и проверим,
// не следует ли пока прервать обмен до заполнения обязательных реквизитов
УзелОбъект = УзелОбменаЗагрузкаДанных.ПолучитьОбъект();
НужноЗаписатьУзел = Ложь;

// заявки на оплату
ТаблицаВидовДокументов = Параметры.ЗаявкиНаОплату.Получить();
ТабличнаяЧасть = УзелОбъект.ПлатежныеПоручения;
Если ТипЗнч(ТаблицаВидовДокументов) = Тип("ТаблицаЗначений") Тогда
	// дополним новыми
	Для каждого СтрокаТаблицы из ТаблицаВидовДокументов Цикл
		СтрокаТабличнойЧасти = ТабличнаяЧасть.Найти(СтрокаТаблицы.ВидДокумента_Ключ);
		Если СтрокаТабличнойЧасти = Неопределено Тогда
			СтрокаТабличнойЧасти = ТабличнаяЧасть.Добавить();
			СтрокаТабличнойЧасти.ВидДокумента_Ключ = СтрокаТаблицы.ВидДокумента_Ключ;
			НужноЗаписатьУзел = Истина;
		ИначеЕсли СтрокаТабличнойЧасти.ВидДокумента &lt;&gt; СтрокаТаблицы.ВидДокумента Тогда
			НужноЗаписатьУзел = Истина;
		КонецЕсли;
		СтрокаТабличнойЧасти.ВидДокумента = СтрокаТаблицы.ВидДокумента;
	КонецЦикла;
	// удалим лишнее
	НомерСтроки = 0;
	Пока НомерСтроки &lt;= ТабличнаяЧасть.Количество() - 1 Цикл
		СтрокаТаблицы = ТаблицаВидовДокументов.Найти(ТабличнаяЧасть[НомерСтроки].ВидДокумента_Ключ);
		Если СтрокаТаблицы = Неопределено Тогда
			ТабличнаяЧасть.Удалить(НомерСтроки);
			НужноЗаписатьУзел = Истина;
		Иначе
			НомерСтроки = НомерСтроки + 1;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;
Параметры.Вставить("ПлатежныеПоручения", ТабличнаяЧасть.Выгрузить());

// договоры
ТаблицаВидовДокументов = Параметры.Договоры.Получить();
ТабличнаяЧасть = УзелОбъект.Договоры;
Если ТипЗнч(ТаблицаВидовДокументов) = Тип("ТаблицаЗначений") Тогда
	// дополним новыми
	Для каждого СтрокаТаблицы из ТаблицаВидовДокументов Цикл
		СтрокаТабличнойЧасти = ТабличнаяЧасть.Найти(СтрокаТаблицы.ВидДокумента_Ключ);
		Если СтрокаТабличнойЧасти = Неопределено Тогда
			СтрокаТабличнойЧасти = ТабличнаяЧасть.Добавить();
			СтрокаТабличнойЧасти.ВидДокумента_Ключ = СтрокаТаблицы.ВидДокумента_Ключ;
			СтрокаТабличнойЧасти.НеВыбраныЗначенияОбязательныхРеквизитов = Истина;
			НужноЗаписатьУзел = Истина;
		ИначеЕсли СтрокаТабличнойЧасти.ВидДокумента &lt;&gt; СтрокаТаблицы.ВидДокумента Тогда
			НужноЗаписатьУзел = Истина;
		КонецЕсли;
		СтрокаТабличнойЧасти.ВидДокумента = СтрокаТаблицы.ВидДокумента;
	КонецЦикла;
	// удалим лишнее
	НомерСтроки = 0;
	Пока НомерСтроки &lt;= ТабличнаяЧасть.Количество() - 1 Цикл
		СтрокаТаблицы = ТаблицаВидовДокументов.Найти(ТабличнаяЧасть[НомерСтроки].ВидДокумента_Ключ);
		Если СтрокаТаблицы = Неопределено Тогда
			ТабличнаяЧасть.Удалить(НомерСтроки);
			НужноЗаписатьУзел = Истина;
		Иначе
			НомерСтроки = НомерСтроки + 1;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;
Параметры.Вставить("Договоры", ТабличнаяЧасть.Выгрузить());

Если НужноЗаписатьУзел Тогда
	УзелОбъект.Записать();
КонецЕсли;

// возможно, на этом сеанс обмена следует прервать
СтруктураПоиска = Новый Структура("НеВыбраныЗначенияОбязательныхРеквизитов", Истина);
НайденныеСтроки =  УзелОбъект.Договоры.НайтиСтроки(СтруктураПоиска);
Если НайденныеСтроки.Количество() &lt;&gt; 0 Тогда
	ТекстИсключения = "Не выбраны обязательные реквизиты в правилах загрузки договоров: ";
	Разделитель = "";
	Для каждого НайденнаяСтрока из НайденныеСтроки Цикл
		ТекстИсключения = ТекстИсключения + Разделитель + НайденнаяСтрока.ВидДокумента;
		Разделитель = "; ";
	КонецЦикла;
	ТекстИсключения = ТекстИсключения + ". Загрузка отменена";
	ВызватьИсключение ТекстИсключения;
КонецЕсли;</ПослеПолученияИнформацииОбУзлахОбмена>
	<ПередВыгрузкойДанных>// перенесем в параметры настройки отбора выгружаемых данных
Параметры.Вставить("ОграничиватьВыгрузку", УзелДляОбмена.ОграничиватьВыгрузку);
МассивОрганизаций = Новый Массив;
МассивКонтрагентов = Новый Массив;
Для Каждого Строка Из УзелДляОбмена.Стороны Цикл
	Если ТипЗнч(Строка.Сторона) = Тип("СправочникСсылка.Организации") Тогда
		МассивОрганизаций.Добавить(Строка.Сторона);
		
	ИначеЕсли ТипЗнч(Строка.Сторона) = Тип("СправочникСсылка.Контрагенты") Тогда
		МассивКонтрагентов.Добавить(Строка.Сторона);
	КонецЕсли;
КонецЦикла;
Параметры.Вставить("Организации", МассивОрганизаций);
Параметры.Вставить("Контрагенты", МассивКонтрагентов);
Параметры.Вставить("ВыгруженныеКонтрагенты", Новый Массив);
Параметры.Вставить("ВыгруженныеОрганизации", Новый Массив);
Параметры.Вставить("ВыгруженныеБанковскиеСчета", Новый Массив);

Если УзелДляОбмена.ВыгружатьДоговоры Тогда
	Параметры.Вставить("ВидыДокументовДоговор", УзелДляОбмена.Договоры.ВыгрузитьКолонку("ВидДокумента"));
Иначе
	Параметры.Вставить("ВидыДокументовДоговор", Новый Массив);
КонецЕсли;
Если УзелДляОбмена.ВыгружатьЗаявкиНаОплату Тогда
	Параметры.Вставить("ВидыДокументовЗаявкаНаОплату", УзелДляОбмена.ЗаявкиНаОплату.ВыгрузитьКолонку("ВидДокумента"));
Иначе
	Параметры.Вставить("ВидыДокументовЗаявкаНаОплату", Новый Массив);
КонецЕсли;

// перенесем выгружаемые виды документов для обновления ТЧ узла плана обмена на стороне БП

// заявки на оплату
ТаблицаВидовДокументов = Новый ТаблицаЗначений;
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента");
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента_Ключ");
Для каждого СтрокаТабличнойЧасти из УзелДляОбмена.ЗаявкиНаОплату Цикл
	СтрокаВидаДокумента = ТаблицаВидовДокументов.Добавить();
	СтрокаВидаДокумента.ВидДокумента = Строка(СтрокаТабличнойЧасти.ВидДокумента);
	СтрокаВидаДокумента.ВидДокумента_Ключ = ЗначениеВСтрокуВнутр(СтрокаТабличнойЧасти.ВидДокумента);
КонецЦикла;
НовыйПараметр = ТаблицаНастройкиПараметров.Добавить();
НовыйПараметр.Имя = "ЗаявкиНаОплату";
НовыйПараметр.Значение = Новый ХранилищеЗначения(ТаблицаВидовДокументов);
НовыйПараметр.ПередаватьПараметрПриВыгрузке = Истина;

// договоры
ТаблицаВидовДокументов = Новый ТаблицаЗначений;
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента");
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента_Ключ");
Для каждого СтрокаТабличнойЧасти из УзелДляОбмена.Договоры Цикл
	СтрокаВидаДокумента = ТаблицаВидовДокументов.Добавить();
	СтрокаВидаДокумента.ВидДокумента = Строка(СтрокаТабличнойЧасти.ВидДокумента);
	СтрокаВидаДокумента.ВидДокумента_Ключ = ЗначениеВСтрокуВнутр(СтрокаТабличнойЧасти.ВидДокумента);
КонецЦикла;
НовыйПараметр = ТаблицаНастройкиПараметров.Добавить();
НовыйПараметр.Имя = "Договоры";
НовыйПараметр.Значение = Новый ХранилищеЗначения(ТаблицаВидовДокументов);
НовыйПараметр.ПередаватьПараметрПриВыгрузке = Истина;</ПередВыгрузкойДанных>
	<ПриПолученииИнформацииОбУдалении>МетаданныеОбъекта = Объект.Метаданные();
Если Метаданные.Справочники.Содержит(МетаданныеОбъекта) Тогда
	Отказ  = Истина;
	УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "Справочник");
КонецЕсли;</ПриПолученииИнформацииОбУдалении>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ЮридическоеФизическоеЛицо</Код>
				<Наименование>Перечисление: Юр физ лицо</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ИндивидуальныйПредприниматель --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ИндивидуальныйПредприниматель</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ЮрЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ЮрЛицоНеРезидент --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник>ЮрЛицоНеРезидент</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Факс --&gt; Факс</Наименование>
						<Порядок>300</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Факс</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Skype --&gt; Skype</Наименование>
						<Порядок>350</Порядок>
						<Источник>Skype</Источник>
						<Приемник>Skype</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыУстановкиКурсаВалюты</Код>
				<Наименование>Перечисление: Способы установки курса валюты</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.СпособыУстановкиКурсаВалюты</Источник>
				<Приемник>ПеречислениеСсылка.СпособыУстановкиКурсаВалюты</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ЗагрузкаИзИнтернета --&gt; ЗагрузкаИзИнтернета</Наименование>
						<Порядок>50</Порядок>
						<Источник>ЗагрузкаИзИнтернета</Источник>
						<Приемник>ЗагрузкаИзИнтернета</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НаценкаНаКурсДругойВалюты --&gt; НаценкаНаКурсДругойВ</Наименование>
						<Порядок>100</Порядок>
						<Источник>НаценкаНаКурсДругойВалюты</Источник>
						<Приемник>НаценкаНаКурсДругойВалюты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РасчетПоФормуле --&gt; РасчетПоФормуле</Наименование>
						<Порядок>150</Порядок>
						<Источник>РасчетПоФормуле</Источник>
						<Приемник>РасчетПоФормуле</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>РучнойВвод --&gt; РучнойВвод</Наименование>
						<Порядок>200</Порядок>
						<Источник>РучнойВвод</Источник>
						<Приемник>РучнойВвод</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПолФизическогоЛица</Код>
				<Наименование>Перечисление: Пол физического лица</Наименование>
				<Порядок>200</Порядок>
				<Источник>ПеречислениеСсылка.ПолФизическогоЛица</Источник>
				<Приемник>ПеречислениеСсылка.ПолФизическогоЛица</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Женский --&gt; Женский</Наименование>
						<Порядок>50</Порядок>
						<Источник>Женский</Источник>
						<Приемник>Женский</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Мужской --&gt; Мужской</Наименование>
						<Порядок>100</Порядок>
						<Источник>Мужской</Источник>
						<Приемник>Мужской</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Группа>
				<Код>Вспомогательные</Код>
				<Наименование>Вспомогательные</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>Валюты</Код>
					<Наименование>Справочник: Валюты</Наименование>
					<Порядок>50</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Валюты</Источник>
					<Приемник>СправочникСсылка.Валюты</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ЗагружаетсяИзИнтернета --&gt; ЗагружаетсяИзИнтернета</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Наценка --&gt; Наценка</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ОсновнаяВалюта --&gt; ОсновнаяВалюта</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ОсновнаяВалюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ОсновнаяВалюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>СпособУстановкиКурса --&gt; СпособУстановкиКурса</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
							<Приемник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
							<КодПравилаКонвертации>СпособыУстановкиКурсаВалюты                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ФормулаРасчетаКурса --&gt; ФормулаРасчетаКурса</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ФормулаРасчетаКурса" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ФормулаРасчетаКурса" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВидыКонтактнойИнформации</Код>
					<Наименование>Справочник: Виды контактной информации</Наименование>
					<Порядок>100</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
					<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>2</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ВидРедактирования --&gt; ВидРедактирования</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ВидРедактирования" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ВидРедактирования" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Используется --&gt; Используется</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>EmailКонтактногоЛица --&gt; EmailКонтактныеЛица</Наименование>
							<Порядок>50</Порядок>
							<Источник>EmailКонтактногоЛица</Источник>
							<Приемник>EmailКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>2</Код>
							<Наименование>EmailКорреспондента --&gt; EmailКонтрагенты</Наименование>
							<Порядок>100</Порядок>
							<Источник>EmailКонтрагента</Источник>
							<Приемник>EmailКонтрагенты</Приемник>
						</Значение>
						<Значение>
							<Код>3</Код>
							<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
							<Порядок>150</Порядок>
							<Источник>EmailОрганизации</Источник>
							<Приемник>EmailОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>4</Код>
							<Наименование>EmailПользователя --&gt; EmailПользователя</Наименование>
							<Порядок>200</Порядок>
							<Источник>EmailПользователя</Источник>
							<Приемник>EmailПользователя</Приемник>
						</Значение>
						<Значение>
							<Код>5</Код>
							<Наименование>ДомашнийАдресФизическогоЛица --&gt; АдресДляИнформиро</Наименование>
							<Порядок>250</Порядок>
							<Источник>ДомашнийАдресФизическогоЛица</Источник>
							<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>6</Код>
							<Наименование>ДомашнийТелефонФизическогоЛица --&gt; ТелефонДомашний</Наименование>
							<Порядок>300</Порядок>
							<Источник>ДомашнийТелефонФизическогоЛица</Источник>
							<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>7</Код>
							<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
							<Порядок>350</Порядок>
							<Источник>ДругаяИнформацияОрганизации</Источник>
							<Приемник>ДругаяИнформацияОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>8</Код>
							<Наименование>МобильныйТелефонКонтактногоЛица --&gt; ТелефонМобильн</Наименование>
							<Порядок>400</Порядок>
							<Источник>МобильныйТелефонКонтактногоЛица</Источник>
							<Приемник>ТелефонМобильныйКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>9</Код>
							<Наименование>МобильныйТелефонФизическогоЛица --&gt; ТелефонДомашни</Наименование>
							<Порядок>450</Порядок>
							<Источник>МобильныйТелефонФизическогоЛица</Источник>
							<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>10</Код>
							<Наименование>ПочтовыйАдресКорреспондента --&gt; ФактАдресКонтраген</Наименование>
							<Порядок>500</Порядок>
							<Источник>ФактическийАдресКонтрагента</Источник>
							<Приемник>ФактАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>11</Код>
							<Наименование>ПочтовыйАдресОрганизации --&gt; ПочтовыйАдресОрганиза</Наименование>
							<Порядок>550</Порядок>
							<Источник>ПочтовыйАдресОрганизации</Источник>
							<Приемник>ПочтовыйАдресОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>16</Код>
							<Наименование>ТелефонКонтактногоЛица --&gt; ТелефонРабочийКонтактны</Наименование>
							<Порядок>800</Порядок>
							<Источник>ТелефонКонтактногоЛица</Источник>
							<Приемник>ТелефонРабочийКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>17</Код>
							<Наименование>ТелефонКорреспондента --&gt; ТелефонКонтрагента</Наименование>
							<Порядок>850</Порядок>
							<Источник>ТелефонКонтрагента</Источник>
							<Приемник>ТелефонКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>18</Код>
							<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
							<Порядок>900</Порядок>
							<Источник>ТелефонОрганизации</Источник>
							<Приемник>ТелефонОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>19</Код>
							<Наименование>ТелефонПользователя --&gt; ТелефонПользователя</Наименование>
							<Порядок>950</Порядок>
							<Источник>ТелефонПользователя</Источник>
							<Приемник>ТелефонПользователя</Приемник>
						</Значение>
						<Значение>
							<Код>20</Код>
							<Наименование>ФаксКорреспондента --&gt; ФаксКонтрагенты</Наименование>
							<Порядок>1000</Порядок>
							<Источник>ФаксКонтрагента</Источник>
							<Приемник>ФаксКонтрагенты</Приемник>
						</Значение>
						<Значение>
							<Код>21</Код>
							<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
							<Порядок>1050</Порядок>
							<Источник>ФаксОрганизации</Источник>
							<Приемник>ФаксОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>22</Код>
							<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
							<Порядок>1100</Порядок>
							<Источник>ФактАдресОрганизации</Источник>
							<Приемник>ФактАдресОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>23</Код>
							<Наименование>ФактическийАдресКорреспондента --&gt; ФактАдресКонтра</Наименование>
							<Порядок>1150</Порядок>
							<Источник>ФактическийАдресКонтрагента</Источник>
							<Приемник>ФактАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>24</Код>
							<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
							<Порядок>1200</Порядок>
							<Источник>ЮрАдресОрганизации</Источник>
							<Приемник>ЮрАдресОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>25</Код>
							<Наименование>ЮридическийАдресКорреспондента --&gt; ЮрАдресКонтраге</Наименование>
							<Порядок>1250</Порядок>
							<Источник>ЮридическийАдресКонтрагента</Источник>
							<Приемник>ЮрАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>26</Код>
							<Наименование>ПочтовыйАдресКонтрагента --&gt; ПочтовыйАдресКонтраге</Наименование>
							<Порядок>1300</Порядок>
							<Источник>ПочтовыйАдресКонтрагента</Источник>
							<Приемник>ПочтовыйАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>27</Код>
							<Наименование>СправочникКонтактныеЛица --&gt; СправочникКонтактныеЛ</Наименование>
							<Порядок>1350</Порядок>
							<Источник>СправочникКонтактныеЛица</Источник>
							<Приемник>СправочникКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>28</Код>
							<Наименование>СправочникКонтрагенты --&gt; СправочникКонтрагенты</Наименование>
							<Порядок>1400</Порядок>
							<Источник>СправочникКонтрагенты</Источник>
							<Приемник>СправочникКонтрагенты</Приемник>
						</Значение>
						<Значение>
							<Код>29</Код>
							<Наименование>СправочникОрганизации --&gt; СправочникОрганизации</Наименование>
							<Порядок>1450</Порядок>
							<Источник>СправочникОрганизации</Источник>
							<Приемник>СправочникОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>30</Код>
							<Наименование>СправочникПользователи --&gt; СправочникПользователи</Наименование>
							<Порядок>1500</Порядок>
							<Источник>СправочникПользователи</Источник>
							<Приемник>СправочникПользователи</Приемник>
						</Значение>
						<Значение>
							<Код>31</Код>
							<Наименование>СправочникФизическиеЛица --&gt; СправочникФизическиеЛ</Наименование>
							<Порядок>1550</Порядок>
							<Источник>СправочникФизическиеЛица</Источник>
							<Приемник>СправочникФизическиеЛица</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>СтраныМира</Код>
					<Наименование>Справочник: Страны мира</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.СтраныМира</Источник>
					<Приемник>СправочникСсылка.СтраныМира</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодАльфа3 --&gt; КодАльфа3</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>УчастникЕАЭС --&gt; УчастникЕАЭС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="УчастникЕАЭС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчастникЕАЭС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>МеждународноеНаименование --&gt; МеждународноеНаименование</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="МеждународноеНаименование" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="МеждународноеНаименование" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторБанковРФ</Код>
					<Наименование>Справочник: Классификатор банков РФ</Наименование>
					<Порядок>200</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторБанков</Источник>
					<Приемник>СправочникСсылка.Банки</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанков"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<КодПравилаКонвертации>КлассификаторБанковРФ                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство Обязательное="true">
							<Код>10</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>СВИФТБИК --&gt; СВИФТБИК</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="СВИФТБИК" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="СВИФТБИК" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СтатьиДвиженияДенежныхСредств</Код>
					<Наименование>Справочник: Статьи движения денежных средств</Наименование>
					<Порядок>250</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
					<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>5</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ФизическиеЛица</Код>
					<Наименование>Справочник: Физические лица</Наименование>
					<Порядок>300</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.ФизическиеЛица</Источник>
					<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Пол --&gt; Пол</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
							<Приемник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
							<КодПравилаКонвертации>ПолФизическогоЛица                                </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>6</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>100</Порядок>
				<ПослеВыгрузки>Параметры.ВыгруженныеОрганизации.Добавить(Источник);</ПослеВыгрузки>
				<ПослеЗагрузки>Если ЗначениеЗаполнено(Объект.Наименование)
		И Не ЗначениеЗаполнено(Объект.НаименованиеСокращенное) Тогда
	Объект.НаименованиеСокращенное = Объект.Наименование;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если ЗначениеЗаполнено(СвойстваПоиска["ИНН"]) Тогда
	Если НомерВариантаПоиска = 1 Тогда
		СтрокаИменСвойствПоиска = "ИНН, КПП";
	ИначеЕсли НомерВариантаПоиска = 2 Тогда
		СтрокаИменСвойствПоиска = "ИНН, Наименование";
	Иначе
		СтрокаИменСвойствПоиска = "Наименование";
	КонецЕсли;
Иначе
	СтрокаИменСвойствПоиска = "Наименование";
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство>
						<Код>6</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>Наименование --&gt; НаименованиеСокращенное</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НаименованиеСокращенное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ОсновнойБанковскийСчет --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ОсновнойБанковскийСчет)
		И Параметры.ВыгруженныеБанковскиеСчета.Найти(Источник.ОсновнойБанковскийСчет) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.ОсновнойБанковскийСчет,,,,"БанковскиеСчета");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮридическоеФизическоеЛицо                         </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>13</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>14</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Корреспонденты</Наименование>
				<Порядок>150</Порядок>
				<ПослеВыгрузки>Параметры.ВыгруженныеКонтрагенты.Добавить(Источник);

Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КонтактныеЛица.Ссылка КАК Ссылка
	|ИЗ
	|	Справочник.КонтактныеЛица КАК КонтактныеЛица
	|ГДЕ
	|	КонтактныеЛица.Владелец = &amp;Контрагент
	|	И НЕ КонтактныеЛица.ПометкаУдаления";
Запрос.УстановитьПараметр("Контрагент", Источник.Ссылка);
ВыборкаКонтактныеЛица = Запрос.Выполнить().Выбрать();

Пока ВыборкаКонтактныеЛица.Следующий() Цикл
	ВыгрузитьПоПравилу(ВыборкаКонтактныеЛица.Ссылка,,,,"КонтактныеЛица");
КонецЦикла;</ПослеВыгрузки>
				<ПослеЗагрузки>Если ПараметрыОбъекта &lt;&gt; Неопределено И ЗначениеЗаполнено(ПараметрыОбъекта["СтранаРегистрации"]) Тогда
	Запрос = Новый Запрос(
		"ВЫБРАТЬ ПЕРВЫЕ 1
		|	Ссылка
		|ИЗ
		|	Справочник.СтраныМира
		|ГДЕ
		|	НЕ ПометкаУдаления
		|	И Наименование ПОДОБНО &amp;СтранаРегистрации");
	Запрос.УстановитьПараметр("СтранаРегистрации", СокрЛП(ПараметрыОбъекта["СтранаРегистрации"]));
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Объект.СтранаРегистрации = Выборка.Ссылка;
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если ЗначениеЗаполнено(СвойстваПоиска["ИНН"]) Тогда
	Если НомерВариантаПоиска = 1 Тогда
		СтрокаИменСвойствПоиска = "ИНН, КПП, Наименование, ЭтоГруппа";
		
	ИначеЕсли НомерВариантаПоиска = 2 Тогда
		СтрокаИменСвойствПоиска = "ИНН, КПП, ЭтоГруппа";
		
	Иначе
		СтрокаИменСвойствПоиска = "ИНН, Наименование, ЭтоГруппа";
		
	КонецЕсли;
Иначе
	СтрокаИменСвойствПоиска = "Наименование, ЭтоГруппа";
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>6</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>30</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ОсновнойБанковскийСчет --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ОсновнойБанковскийСчет)
		И Параметры.ВыгруженныеБанковскиеСчета.Найти(Источник.ОсновнойБанковскийСчет) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.ОсновнойБанковскийСчет,,,,"БанковскиеСчета");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>28</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮридическоеФизическоеЛицо                         </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>15</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						<Свойство>
							<Код>16</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Значение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>31</Код>
						<Наименование>--&gt; СтранаРегистрации</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>СтранаРегистрации</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = "";
Для Каждого Строка Из Источник.КонтактнаяИнформация Цикл
	Если Строка.Вид = Справочники.ВидыКонтактнойИнформации.ЮридическийАдресКонтрагента
			И ЗначениеЗаполнено(Строка.Страна) Тогда
		Значение = Строка.Страна;
		Прервать;
	КонецЕсли;
КонецЦикла;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>29</Код>
						<Наименование>РегистрационныйНомер --&gt; РегистрационныйНомер</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КонтактныеЛица</Код>
				<Наименование>Справочник: Контактные лица</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.КонтактныеЛица</Источник>
				<Приемник>СправочникСсылка.КонтактныеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>16</Код>
						<Наименование>Владелец --&gt; ОбъектВладелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="ОбъектВладелец" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Должность --&gt; Должность</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Должность" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Должность" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>4</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>5</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БанковскиеСчета</Код>
				<Наименование>Справочник: Банковские счета</Наименование>
				<Порядок>250</Порядок>
				<ПослеВыгрузки>Параметры.ВыгруженныеБанковскиеСчета.Добавить(Источник);</ПослеВыгрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.БанковскиеСчета</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
				<Свойства>
					<Свойство>
						<Код>14</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>13</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Владелец" Вид="Свойство"/>
						<Приемник Имя="Владелец" Вид="Свойство"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>НомерСчета --&gt; НомерСчета</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Банк --&gt; Банк</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
						<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>КлассификаторБанковРФ                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>БанкДляРасчетов --&gt; БанкДляРасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
						<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>КлассификаторБанковРФ                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ВидСчета --&gt; ВидСчета</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДатаЗакрытия --&gt; ДатаЗакрытия</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ДатаОткрытия --&gt; ДатаОткрытия</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>МесяцПрописью --&gt; МесяцПрописью</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="МесяцПрописью" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="МесяцПрописью" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НомерИДатаРазрешения --&gt; НомерИДатаРазрешения</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>СуммаБезКопеек --&gt; СуммаБезКопеек</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммаБезКопеек" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаБезКопеек" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ТекстКорреспондента --&gt; ТекстКорреспондента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ТекстНазначения --&gt; ТекстНазначения</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Договоры</Код>
				<Наименование>Справочник: Внутренние документы</Наименование>
				<Порядок>300</Порядок>
				<ПередВыгрузкой>Отказ = Не ЗначениеЗаполнено(Источник.РегистрационныйНомер)
	Или Не ЗначениеЗаполнено(Источник.ДатаРегистрации);</ПередВыгрузкой>
				<ПослеВыгрузки>Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВнутренниеДокументы.Организация КАК Организация,
	|	ВнутренниеДокументы.ДатаРегистрации КАК ДатаРегистрации,
	|	ВнутренниеДокументы.РегистрационныйНомер КАК РегистрационныйНомер,
	|	ВнутренниеДокументы.Наименование КАК Наименование,
	|	ВнутренниеДокументы.Сумма КАК Сумма,
	|	ВнутренниеДокументы.СуммаНДС КАК СуммаНДС,
	|	ВнутренниеДокументы.Валюта КАК Валюта,
	|	ВнутренниеДокументы.ПометкаУдаления КАК ПометкаУдаления,
	|	ВнутренниеДокументы.Комментарий КАК Комментарий,
	|	ВнутренниеДокументы.ДатаОкончанияДействия КАК ДатаОкончанияДействия,
	|	ВнутренниеДокументы.ВидДокумента КАК ВидДокумента,
	|	ВидыВнутреннихДокументов.ВестиУчетСторон КАК ВестиУчетСторон
	|ИЗ
	|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВидыВнутреннихДокументов КАК ВидыВнутреннихДокументов
	|		ПО ВнутренниеДокументы.ВидДокумента = ВидыВнутреннихДокументов.Ссылка
	|ГДЕ
	|	ВнутренниеДокументы.Ссылка = &amp;Источник
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыКонтрагенты.Контрагент КАК Контрагент
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
	|ГДЕ
	|	ВнутренниеДокументыКонтрагенты.Ссылка = &amp;Источник
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыСтороны.Сторона КАК Организация
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
	|ГДЕ
	|	ВнутренниеДокументыСтороны.Ссылка = &amp;Источник
	|	И ВнутренниеДокументыСтороны.Сторона ССЫЛКА Справочник.Организации");
Запрос.УстановитьПараметр("Источник", Источник.Ссылка);
МассивРезультатов = Запрос.ВыполнитьПакет();

КомбинацииДоговоров = Новый ТаблицаЗначений;
КомбинацииДоговоров.Колонки.Добавить("Организация");
КомбинацииДоговоров.Колонки.Добавить("Контрагент");

ДанныеДоговора = МассивРезультатов[0].Выбрать();
ДанныеДоговора.Следующий();

Если ДанныеДоговора.ВестиУчетСторон Тогда
	Для Каждого СтрокаОрганизация Из МассивРезультатов[2].Выгрузить() Цикл
		Для Каждого СтрокаКонтрагент Из МассивРезультатов[1].Выгрузить() Цикл
			НоваяСтрока = КомбинацииДоговоров.Добавить();
			НоваяСтрока.Организация = СтрокаОрганизация.Организация;
			НоваяСтрока.Контрагент = СтрокаКонтрагент.Контрагент;
		КонецЦикла;
	КонецЦикла;
Иначе
	Для Каждого СтрокаКонтрагент Из МассивРезультатов[1].Выгрузить() Цикл
		НоваяСтрока = КомбинацииДоговоров.Добавить();
		НоваяСтрока.Организация = ДанныеДоговора.Организация;
		НоваяСтрока.Контрагент = СтрокаКонтрагент.Контрагент;
	КонецЦикла;
КонецЕсли;

Если ЗначениеЗаполнено(ДанныеДоговора.РегистрационныйНомер) И ЗначениеЗаполнено(ДанныеДоговора.ДатаРегистрации) Тогда

	Для Каждого Строка Из КомбинацииДоговоров Цикл 
		Если Параметры.ОграничиватьВыгрузку 
				И Параметры.Организации.Найти(Строка.Организация) = Неопределено
				И Параметры.Контрагенты.Найти(Строка.Контрагент) = Неопределено Тогда
			Продолжить;
		КонецЕсли;
		
		ВходящиеДанные = Новый Структура;
	    ВходящиеДанные.Вставить("Владелец", Строка.Контрагент);
	    ВходящиеДанные.Вставить("Организация", Строка.Организация);
	    ВходящиеДанные.Вставить("Дата", ДанныеДоговора.ДатаРегистрации);
	    ВходящиеДанные.Вставить("Номер", ДанныеДоговора.РегистрационныйНомер);
	    ВходящиеДанные.Вставить("Наименование", ДанныеДоговора.Наименование);
	    ВходящиеДанные.Вставить("ВалютаВзаиморасчетов", ДанныеДоговора.Валюта);
		ВходящиеДанные.Вставить("Сумма", ДанныеДоговора.Сумма);
		ВходящиеДанные.Вставить("СуммаНДС", ДанныеДоговора.СуммаНДС);
		ВходящиеДанные.Вставить("ПометкаУдаления", ДанныеДоговора.ПометкаУдаления);
		ВходящиеДанные.Вставить("Комментарий", ДанныеДоговора.Комментарий);
		ВходящиеДанные.Вставить("СрокДействия", ДанныеДоговора.ДатаОкончанияДействия);
		ВходящиеДанные.Вставить("ВидДокумента", ДанныеДоговора.ВидДокумента);
		
		ВыгрузитьПоПравилу(,,ВходящиеДанные,,"ДоговорыПоСторонам");    
	КонецЦикла;
	
	Отказ = Истина;

КонецЕсли;</ПослеВыгрузки>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВнутренниеДокументы</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Контрагент --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ДатаРегистрации --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ДатаРегистрации" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>РегистрационныйНомер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДатаОкончанияДействия --&gt; СрокДействия</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; ВидДокумента_Ключ</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВидДокумента_Ключ</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.ВидДокумента);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Сумма --&gt; Сумма</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Валюта --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗаявкиНаОплату</Код>
				<Наименование>Справочник: Внутренние документы</Наименование>
				<Порядок>350</Порядок>
				<ПриВыгрузке>Если ВходящиеДанные = Неопределено Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;
ВестиУчетПоСтатьямДДС = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.Ссылка, 
	"ВидДокумента.ВестиУчетПоСтатьямДДС");
ВходящиеДанные.Вставить("ВестиУчетПоСтатьямДДС", ВестиУчетПоСтатьямДДС = Истина);
ВходящиеДанные.Вставить("СтатьяДвиженияДенежныхСредств", Неопределено);
ВходящиеДанные.Вставить("СуммаНДС",	0);
Если ВходящиеДанные.ВестиУчетПоСтатьямДДС Тогда
	СтатьиДвиженияДенежныхСредств = Новый ТаблицаЗначений;
	СтатьиДвиженияДенежныхСредств.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
	СтатьиДвиженияДенежныхСредств.Колонки.Добавить("Сумма");
	СтатьиДвиженияДенежныхСредств.Колонки.Добавить("СуммаНДС");
	РегистрыСведений.СтатьиДвиженияДенежныхСредствДокументов.ПрочитатьСтатьиДокумента(
		Источник.Ссылка, СтатьиДвиженияДенежныхСредств);
	Если СтатьиДвиженияДенежныхСредств.Количество() = 0 Тогда
		ВходящиеДанные.ВестиУчетПоСтатьямДДС = Ложь;
	Иначе
		ВходящиеДанные.СтатьяДвиженияДенежныхСредств = 
			СтатьиДвиженияДенежныхСредств[0].СтатьяДвиженияДенежныхСредств;
		ВходящиеДанные.СуммаНДС = СтатьиДвиженияДенежныхСредств.Итог("СуммаНДС");
	КонецЕсли;
КонецЕсли;</ПриВыгрузке>
				<ПослеЗагрузки>// сохраним назначение платежа, которое будет испорчено
НазначениеПлатежа = Объект.НазначениеПлатежа;
// стандартный обработчик - основной счет, договор и т.п.
Объект.Заполнить(Неопределено);
Объект.ОчередностьПлатежа = 5;
// дадим БП установить основной договор
РаботаСДоговорамиКонтрагентовБП.УстановитьДоговорКонтрагента(
	Объект.ДоговорКонтрагента, Объект.Контрагент, Объект.Организация);
// найдем структуру со значениями реквизитов и дозаполним наш объект
ПеречислениеВБюджет = Ложь;
СтрокаВидаДокумента = Параметры.ПлатежныеПоручения.Найти(ПараметрыОбъекта["ВидДокумента_Ключ"]);
Если СтрокаВидаДокумента &lt;&gt; Неопределено и ЗначениеЗаполнено(СтрокаВидаДокумента.ЗначенияРеквизитов) Тогда
	ЗначенияРеквизитов = ЗначениеИзСтрокиВнутр(СтрокаВидаДокумента.ЗначенияРеквизитов);
	Если ТипЗнч(ЗначенияРеквизитов) = Тип("Структура") Тогда
		ЗначенияРеквизитов.Свойство("ПеречислениеВБюджет", ПеречислениеВБюджет);
		РеквизитыОбъекта = Объект.Метаданные().Реквизиты;
		Для каждого КлючИЗначение из ЗначенияРеквизитов Цикл
			Если РеквизитыОбъекта.Найти(КлючИЗначение.Ключ) &lt;&gt; Неопределено Тогда
				Объект[КлючИЗначение.Ключ] = КлючИЗначение.Значение;
			КонецЕсли;
		КонецЦИкла;
	КонецЕсли;
КонецЕсли;
Если Не ЗначениеЗаполнено(Объект.Номер) Тогда
	Объект.УстановитьНовыйНомер();
КонецЕсли;
// Дополним назначение платежа, если необходимо.
Если ПеречислениеВБюджет = Истина Тогда // так
	Объект.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Объект.НазначениеПлатежа = НазначениеПлатежа;
Иначе
	Если ПараметрыОбъекта["ВестиУчетПоСтатьямДДС"] Тогда // определим ставку по сумме
		Если Объект.СуммаНДС = 0 Тогда
			Объект.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
		Иначе
			СуммаНДС20 = Объект.СуммаДокумента * 20 / 120;
			Разница20 = ?(Объект.СуммаНДС - СуммаНДС20 &gt; 0, Объект.СуммаНДС - СуммаНДС20, СуммаНДС20 - Объект.СуммаНДС);
			СуммаНДС18 = Объект.СуммаДокумента * 18 / 118;
			Разница18 = ?(Объект.СуммаНДС - СуммаНДС18 &gt; 0, Объект.СуммаНДС - СуммаНДС18, СуммаНДС18 - Объект.СуммаНДС);
			СуммаНДС10 = Объект.СуммаДокумента * 10 / 110;
			Разница10 = ?(Объект.СуммаНДС - СуммаНДС10 &gt; 0, Объект.СуммаНДС - СуммаНДС10, СуммаНДС10 - Объект.СуммаНДС);
			Если Разница10 &lt; Разница18 Тогда
				Объект.СтавкаНДС = Перечисления.СтавкиНДС.НДС10;
			ИначеЕсли Разница18 &lt; Разница20 Тогда
				Объект.СтавкаНДС = Перечисления.СтавкиНДС.НДС18;
			Иначе
				Объект.СтавкаНДС = Перечисления.СтавкиНДС.НДС20;
			КонецЕсли;
		КонецЕсли;
	Иначе // ставка по умолчанию, сумма НДС - расчетным путем
		Объект.СтавкаНДС = Перечисления.СтавкиНДС.НДС20;
		Объект.СуммаНДС = Окр(Объект.СуммаДокумента * 20 / 120, 2);
	КонецЕсли;
	ТекстСумма = "Сумма " + Формат(Объект.СуммаДокумента, "ЧЦ=15; ЧДЦ=2; ЧРД=-; ЧН=0-00; ЧГ=");
	ТекстНДС = "В т.ч. НДС "
		+ ?(ЗначениеЗаполнено(Объект.СтавкаНДС), " (" + Объект.СтавкаНДС + ") ", "")
		+ Формат(Объект.СуммаНДС, "ЧЦ=15; ЧДЦ=2; ЧРД=-; ЧН=0-00; ЧГ=");
	ТекстСуммаНазначения = ТекстСумма + Символы.ПС + ТекстНДС;
	Объект.НазначениеПлатежа = НазначениеПлатежа + Символы.ПС + ТекстСуммаНазначения;
КонецЕсли;</ПослеЗагрузки>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВнутренниеДокументы</Источник>
				<Приемник>ДокументСсылка.ПлатежноеПоручение</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>ЯвляетсяЗаявкойНаОплату = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.ВидДокумента, "ЯвляетсяЗаявкойНаОплату");
Если ЯвляетсяЗаявкойНаОплату Тогда
	Стороны = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.Ссылка, "Стороны");
	Выборка = Стороны.Выбрать();
	Пока Выборка.Следующий() Цикл
		Если Выборка.Наименование = Справочники.НаименованияСторон.Получатель Тогда
			Если ТипЗнч(Выборка.Сторона) = Тип("СправочникСсылка.Контрагенты") Тогда
				Значение = Выборка.Сторона;
				Если Параметры.ВыгруженныеКонтрагенты.Найти(Выборка.Сторона) = Неопределено Тогда
					ВыгрузитьПоПравилу(Выборка.Сторона,,,,"Контрагенты");
				КонецЕсли;
			КонецЕсли;
			Если ТипЗнч(Выборка.Сторона) = Тип("СправочникСсылка.Пользователи") Тогда
				Значение = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Выборка.Сторона, "ФизЛицо");
				ИмяПКО = "ФизическиеЛица";
			КонецЕсли;
			Прервать;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;

Если ТипЗнч(Источник.Контрагент) = Тип("СправочникСсылка.Контрагенты")
		И Параметры.ВыгруженныеКонтрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеОрганизации.Найти(Источник.Организация) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Организация,,,,"Организации");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>СрокИсполнения --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="СрокИсполнения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Содержание --&gt; НазначениеПлатежа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Наименование --&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; ВидДокумента_Ключ</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВидДокумента_Ключ</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.ВидДокумента);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; ВестиУчетПоСтатьямДДС</Наименование>
						<Порядок>450</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВестиУчетПоСтатьямДДС</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>500</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыПоСторонам</Код>
				<Наименование>: </Наименование>
				<Порядок>450</Порядок>
				<ПослеЗагрузки>// стандартный обработчик - основной счет, договор и т.п.
Объект.Заполнить(Неопределено);
// найдем структуру со значениями реквизитов и заполним наш объект
СтрокаВидаДокумента = Параметры.Договоры.Найти(ПараметрыОбъекта["ВидДокумента_Ключ"]);

Если СтрокаВидаДокумента &lt;&gt; Неопределено И ЗначениеЗаполнено(СтрокаВидаДокумента.ЗначенияРеквизитов) Тогда
	ЗначенияРеквизитов = ЗначениеИзСтрокиВнутр(СтрокаВидаДокумента.ЗначенияРеквизитов);
	Если ТипЗнч(ЗначенияРеквизитов) = Тип("Структура") Тогда
		РеквизитыОбъекта = Объект.Метаданные().Реквизиты;
		Для Каждого КлючИЗначение Из ЗначенияРеквизитов Цикл
			Если РеквизитыОбъекта.Найти(КлючИЗначение.Ключ) &lt;&gt; Неопределено Тогда
				Объект[КлючИЗначение.Ключ] = КлючИЗначение.Значение;
			КонецЕсли;
		КонецЦИкла;
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеКонтрагенты.Найти(ВходящиеДанные.Владелец) = Неопределено Тогда
	ВыгрузитьПоПравилу(ВходящиеДанные.Владелец,,,,"Контрагенты");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>--&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеОрганизации.Найти(ВходящиеДанные.Организация) = Неопределено Тогда
	ВыгрузитьПоПравилу(ВходящиеДанные.Организация,,,,"Организации");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; СрокДействия</Наименование>
						<Порядок>350</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>400</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>450</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>500</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; ВидДокумента_Ключ</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВидДокумента_Ключ</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(ВходящиеДанные.ВидДокумента);</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>150</Порядок>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтраныМира</Код>
				<Наименование>Страны мира</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтраныМира</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>КлассификаторБанков</Код>
				<Наименование>Классификатор банков</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>КлассификаторБанковРФ                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КлассификаторБанков</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Корреспонденты</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.ЭтоГруппа Тогда
	Отказ = Истина;
Иначе
	// отбор по наличию документов
	Контрагент = Объект.Ссылка;
	КонтрагентПодлежитВыгрузке = Ложь;
	Выполнить(Алгоритмы.КонтрагентПодлежитВыгрузке);
	Отказ = Не КонтрагентПодлежитВыгрузке; 
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Организации</Код>
				<Наименование>Организации</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Организация = Объект.Ссылка;
ОрганизацияПодлежитВыгрузке = Ложь;
Выполнить(Алгоритмы.ОрганизацияПодлежитВыгрузке);
Отказ = Не ОрганизацияПодлежитВыгрузке;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Статьи движения денежных средств</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>БанковскиеСчета</Код>
				<Наименование>БанковскиеСчета</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БанковскиеСчета</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>// корреспондент - отбор по наличию документов
Если ТипЗнч(Объект.Владелец) = Тип("СправочникСсылка.Контрагенты") Тогда
	
	Контрагент = Объект.Владелец;
	КонтрагентПодлежитВыгрузке = Ложь;
	Выполнить(Алгоритмы.КонтрагентПодлежитВыгрузке);
	Отказ = Не КонтрагентПодлежитВыгрузке;
	
// организация - отбор по списку
ИначеЕсли ТипЗнч(Объект.Владелец) = Тип("СправочникСсылка.Организации") Тогда
	
	Организация = Объект.Владелец;
	ОрганизацияПодлежитВыгрузке = Ложь;
	Выполнить(Алгоритмы.ОрганизацияПодлежитВыгрузке);
	Отказ = Не ОрганизацияПодлежитВыгрузке;

Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>КонтактныеЛица</Код>
				<Наименование>КонтактныеЛица</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>КонтактныеЛица                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КонтактныеЛица</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>// отбор по наличию документов
Контрагент = Объект.Владелец;
КонтрагентПодлежитВыгрузке = Ложь;
Выполнить(Алгоритмы.КонтрагентПодлежитВыгрузке);
Отказ = Не КонтрагентПодлежитВыгрузке;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ВнутренниеДокументы</Код>
				<Наименование>Внутренние документы</Наименование>
				<Порядок>450</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВнутренниеДокументы</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Запрос = Новый Запрос;
Запрос.Текст =
	"ВЫБРАТЬ
	|	ВнутренниеДокументы.Организация КАК Организация,
	|	ВнутренниеДокументы.Контрагент КАК Контрагент,
	|	ВнутренниеДокументы.ВидДокумента КАК ВидДокумента,
	|	ВидыВнутреннихДокументов.ВестиУчетСторон КАК ВестиУчетСторон
	|ИЗ
	|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВидыВнутреннихДокументов КАК ВидыВнутреннихДокументов
	|		ПО ВнутренниеДокументы.ВидДокумента = ВидыВнутреннихДокументов.Ссылка
	|ГДЕ
	|	ВнутренниеДокументы.Ссылка = &amp;Документ
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыКонтрагенты.Контрагент КАК Контрагент
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
	|ГДЕ
	|	ВнутренниеДокументыКонтрагенты.Ссылка = &amp;Документ
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыСтороны.Сторона КАК Организация
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
	|ГДЕ
	|	ВнутренниеДокументыСтороны.Ссылка = &amp;Документ
	|	И ВнутренниеДокументыСтороны.Сторона ССЫЛКА Справочник.Организации
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	ТекущиеСостоянияДокументов.Состояние КАК Состояние
	|ИЗ
	|	РегистрСведений.ТекущиеСостоянияДокументов КАК ТекущиеСостоянияДокументов
	|ГДЕ
	|	ТекущиеСостоянияДокументов.Документ = &amp;Документ
	|	И ТекущиеСостоянияДокументов.Состояние = &amp;Состояние";
Запрос.УстановитьПараметр("Документ", Объект.Ссылка);
Запрос.УстановитьПараметр("Состояние", Перечисления.СостоянияДокументов.Согласован);
МассивРезультатов = Запрос.ВыполнитьПакет();

ДанныеДокумента = МассивРезультатов[0].Выбрать();
ДанныеДокумента.Следующий();

Если Параметры.ОграничиватьВыгрузку Тогда
	
	Отказ = Истина;
	
	Для Каждого СтрокаКонтрагент Из МассивРезультатов[1].Выгрузить() Цикл
		Если Параметры.Контрагенты.Найти(СтрокаКонтрагент.Контрагент) &lt;&gt; Неопределено Тогда 
		    Отказ = Ложь;
			Прервать;
		КонецЕсли;
	КонецЦикла;
	
	Если Отказ Тогда
	
		Если ДанныеДокумента.ВестиУчетСторон Тогда
			Для Каждого СтрокаОрганизация Из МассивРезультатов[2].Выгрузить() Цикл
				Если Параметры.Организации.Найти(СтрокаОрганизация.Организация) &lt;&gt; Неопределено Тогда 
				    Отказ = Ложь;
					Прервать;
				КонецЕсли;
			КонецЦикла;
		Иначе
			Если Параметры.Организации.Найти(ДанныеДокумента.Организация) &lt;&gt; Неопределено Тогда
				Отказ = Ложь;
			КонецЕсли
		КонецЕсли;
	
	КонецЕсли;
	
КонецЕсли;

Если Не Отказ Тогда

	// какое правило применять
	Если Параметры.ВидыДокументовДоговор.Найти(ДанныеДокумента.ВидДокумента) &lt;&gt; Неопределено Тогда
		
		Если МассивРезультатов[3].Пустой() Тогда	// последняя проверка: выгружаемый документ должен быть согласован
			Отказ = Истина;
		Иначе
			Если Не ЗначениеЗаполнено(ДанныеДокумента.Контрагент) Тогда
				Отказ = Истина;
			Иначе
				ИмяПКО = "Договоры";
			КонецЕсли;
		КонецЕсли;
		
	ИначеЕсли Параметры.ВидыДокументовЗаявкаНаОплату.Найти(ДанныеДокумента.ВидДокумента) &lt;&gt; Неопределено Тогда
		
		Если МассивРезультатов[3].Пустой() Тогда	// последняя проверка: выгружаемый документ должен быть согласован
			Отказ = Истина;
		Иначе
			ИмяПКО = "ЗаявкиНаОплату";
		КонецЕсли;
		
	Иначе
		
		Отказ = Истина;
		
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="КонтрагентПодлежитВыгрузке" ИспользуетсяПриЗагрузке="false">
			<Текст>Если Параметры.ОграничиватьВыгрузку Тогда
	Если Параметры.Контрагенты.Найти(Контрагент) &lt;&gt; Неопределено Тогда
		КонтрагентПодлежитВыгрузке = Истина;
	Иначе
		// хотя бы один документ выбранных организаций выбранного вида
		Запрос = Новый Запрос(
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 1
			|	ИСТИНА КАК ЕстьДокументы
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО (ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка)
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент = &amp;Контрагент
			|	И ВнутренниеДокументы.Организация В (&amp;Организации)
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОплату)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления
			|
			|ОБЪЕДИНИТЬ ВСЕ
			|
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	ИСТИНА
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыСтороны.Ссылка
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент = &amp;Контрагент
			|	И ВнутренниеДокументыСтороны.Сторона В(&amp;Организации)
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОплату)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления");
		Запрос.УстановитьПараметр("Контрагент", Контрагент);
		Запрос.УстановитьПараметр("ВидыДокументовДоговор", Параметры.ВидыДокументовДоговор);
		Запрос.УстановитьПараметр("ВидыДокументовЗаявкаНаОплату", Параметры.ВидыДокументовЗаявкаНаОплату);
		Запрос.УстановитьПараметр("Организации", Параметры.Организации);
		КонтрагентПодлежитВыгрузке = Не Запрос.Выполнить().Пустой();
	КонецЕсли;
Иначе // без отбора по организациям
	КонтрагентПодлежитВыгрузке = Истина;
КонецЕсли;</Текст>
			<Параметры>Контрагент, КонтрагентПодлежитВыгрузке</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ОрганизацияПодлежитВыгрузке" ИспользуетсяПриЗагрузке="false">
			<Текст>Если Параметры.ОграничиватьВыгрузку Тогда
	Если Параметры.Организации.Найти(Организация) &lt;&gt; Неопределено Тогда
		ОрганизацияПодлежитВыгрузке = Истина;
	Иначе
		// хотя бы один документ выбранных организаций выбранного вида
		Запрос = Новый Запрос(
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 1
			|	ИСТИНА КАК ЕстьДокументы
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО (ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка)
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент В(&amp;Контрагенты)
			|	И ВнутренниеДокументы.Организация = &amp;Организация
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОплату)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления
			|
			|ОБЪЕДИНИТЬ ВСЕ
			|
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	ИСТИНА
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыСтороны.Ссылка
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент В(&amp;Контрагенты)
			|	И ВнутренниеДокументыСтороны.Сторона = &amp;Организация
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОплату)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления");
		Запрос.УстановитьПараметр("Организация", Организация);
		Запрос.УстановитьПараметр("ВидыДокументовДоговор", Параметры.ВидыДокументовДоговор);
		Запрос.УстановитьПараметр("ВидыДокументовЗаявкаНаОплату", Параметры.ВидыДокументовЗаявкаНаОплату);
		Запрос.УстановитьПараметр("Контрагенты", Параметры.Контрагенты);
		ОрганизацияПодлежитВыгрузке = Не Запрос.Выполнить().Пустой();
	КонецЕсли;
Иначе // без отбора по организациям
	ОрганизацияПодлежитВыгрузке = Истина;
КонецЕсли;</Текст>
			<Параметры>Организация, ОрганизацияПодлежитВыгрузке</Параметры>
		</Алгоритм>
	</Алгоритмы>
	<Запросы/>
</ПравилаОбмена>