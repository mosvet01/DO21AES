<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>396f8fcb-d535-416f-940a-57bcb1f48099    </Ид>
	<Наименование>ДО КОРП 2.1 --&gt; УХ 3.1</Наименование>
	<ДатаВремяСоздания>2022-11-11T12:59:09</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.1.31" СинонимКонфигурации="Документооборот 8, редакция  2.1">Документооборот21</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.1.17" СинонимКонфигурации="Управление холдингом, редакция 3.1">УправлениеХолдингом31</Приемник>
	<ПослеПолученияИнформацииОбУзлахОбмена>// дополним табличные части узла новыми видами документов, если необходимо, и проверим,
// не следует ли пока прервать обмен до заполнения обязательных реквизитов
УзелОбъект = УзелОбменаЗагрузкаДанных.ПолучитьОбъект();
НужноЗаписатьУзел = Ложь;

// заявки на операции
ТаблицаВидовДокументов = Параметры.ЗаявкиНаОперации.Получить();
ТабличнаяЧасть = УзелОбъект.ЗаявкиНаОперации;
Если ТипЗнч(ТаблицаВидовДокументов) = Тип("ТаблицаЗначений") Тогда
	// дополним новыми
	Для каждого СтрокаТаблицы из ТаблицаВидовДокументов Цикл
		СтрокаТабличнойЧасти = ТабличнаяЧасть.Найти(СтрокаТаблицы.ВидДокумента_Ключ);
		Если СтрокаТабличнойЧасти = Неопределено Тогда
			СтрокаТабличнойЧасти = ТабличнаяЧасть.Добавить();
			СтрокаТабличнойЧасти.ВидДокумента_Ключ = СтрокаТаблицы.ВидДокумента_Ключ;
			НужноЗаписатьУзел = Истина;
		ИначеЕсли СтрокаТабличнойЧасти.ВидДокумента &lt;&gt; СтрокаТаблицы.ВидДокумента Тогда
			НужноЗаписатьУзел = Истина;
		КонецЕсли;
		СтрокаТабличнойЧасти.ВидДокумента = СтрокаТаблицы.ВидДокумента;
	КонецЦикла;
	// удалим лишнее
	НомерСтроки = 0;
	Пока НомерСтроки &lt;= ТабличнаяЧасть.Количество() - 1 Цикл
		СтрокаТаблицы = ТаблицаВидовДокументов.Найти(ТабличнаяЧасть[НомерСтроки].ВидДокумента_Ключ);
		Если СтрокаТаблицы = Неопределено Тогда
			ТабличнаяЧасть.Удалить(НомерСтроки);
			НужноЗаписатьУзел = Истина;
		Иначе
			НомерСтроки = НомерСтроки + 1;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;
Параметры.Вставить("ЗаявкиНаОперации", ТабличнаяЧасть.Выгрузить());

// договоры
ТаблицаВидовДокументов = Параметры.Договоры.Получить();
ТабличнаяЧасть = УзелОбъект.Договоры;
Если ТипЗнч(ТаблицаВидовДокументов) = Тип("ТаблицаЗначений") Тогда
	// дополним новыми
	Для каждого СтрокаТаблицы из ТаблицаВидовДокументов Цикл
		СтрокаТабличнойЧасти = ТабличнаяЧасть.Найти(СтрокаТаблицы.ВидДокумента_Ключ);
		Если СтрокаТабличнойЧасти = Неопределено Тогда
			СтрокаТабличнойЧасти = ТабличнаяЧасть.Добавить();
			СтрокаТабличнойЧасти.ВидДокумента_Ключ = СтрокаТаблицы.ВидДокумента_Ключ;
			СтрокаТабличнойЧасти.НеВыбраныЗначенияОбязательныхРеквизитов = Истина;
			НужноЗаписатьУзел = Истина;
		ИначеЕсли СтрокаТабличнойЧасти.ВидДокумента &lt;&gt; СтрокаТаблицы.ВидДокумента Тогда
			НужноЗаписатьУзел = Истина;
		КонецЕсли;
		СтрокаТабличнойЧасти.ВидДокумента = СтрокаТаблицы.ВидДокумента;
	КонецЦикла;
	// удалим лишнее
	НомерСтроки = 0;
	Пока НомерСтроки &lt;= ТабличнаяЧасть.Количество() - 1 Цикл
		СтрокаТаблицы = ТаблицаВидовДокументов.Найти(ТабличнаяЧасть[НомерСтроки].ВидДокумента_Ключ);
		Если СтрокаТаблицы = Неопределено Тогда
			ТабличнаяЧасть.Удалить(НомерСтроки);
			НужноЗаписатьУзел = Истина;
		Иначе
			НомерСтроки = НомерСтроки + 1;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;
Параметры.Вставить("Договоры", ТабличнаяЧасть.Выгрузить());

Если НужноЗаписатьУзел Тогда
	УзелОбъект.Записать();
КонецЕсли;

// возможно, на этом сеанс обмена следует прервать
СтруктураПоиска = Новый Структура("НеВыбраныЗначенияОбязательныхРеквизитов", Истина);
НайденныеСтроки =  УзелОбъект.Договоры.НайтиСтроки(СтруктураПоиска);
Если НайденныеСтроки.Количество() &lt;&gt; 0 Тогда
	ТекстИсключения = "Не выбраны обязательные реквизиты в правилах загрузки договоров: ";
	Разделитель = "";
	Для каждого НайденнаяСтрока из НайденныеСтроки Цикл
		ТекстИсключения = ТекстИсключения + Разделитель + НайденнаяСтрока.ВидДокумента;
		Разделитель = "; ";
	КонецЦикла;
	ТекстИсключения = ТекстИсключения + ". Загрузка отменена";
	ВызватьИсключение ТекстИсключения;
КонецЕсли;</ПослеПолученияИнформацииОбУзлахОбмена>
	<ПередВыгрузкойДанных>// перенесем в параметры настройки отбора выгружаемых данных
Параметры.Вставить("ОграничиватьВыгрузку", УзелДляОбмена.ОграничиватьВыгрузку);
МассивОрганизаций = Новый Массив;
МассивКонтрагентов = Новый Массив;
Для Каждого Строка Из УзелДляОбмена.Стороны Цикл
	Если ТипЗнч(Строка.Сторона) = Тип("СправочникСсылка.Организации") Тогда
		МассивОрганизаций.Добавить(Строка.Сторона);
		
	ИначеЕсли ТипЗнч(Строка.Сторона) = Тип("СправочникСсылка.Контрагенты") Тогда
		МассивКонтрагентов.Добавить(Строка.Сторона);
	КонецЕсли;
КонецЦикла;
Параметры.Вставить("Организации", МассивОрганизаций);
Параметры.Вставить("Контрагенты", МассивКонтрагентов);
Параметры.Вставить("ВыгруженныеКонтрагенты", Новый Массив);
Параметры.Вставить("ВыгруженныеОрганизации", Новый Массив);
Параметры.Вставить("ВыгруженныеБанковскиеСчета", Новый Массив);

Если УзелДляОбмена.ВыгружатьДоговоры Тогда
	Параметры.Вставить("ВидыДокументовДоговор", УзелДляОбмена.Договоры.ВыгрузитьКолонку("ВидДокумента"));
Иначе
	Параметры.Вставить("ВидыДокументовДоговор", Новый Массив);
КонецЕсли;
Если УзелДляОбмена.ВыгружатьЗаявкиНаОперации Тогда
	Параметры.Вставить("ВидыДокументовЗаявкаНаОперацию", УзелДляОбмена.ЗаявкиНаОперации.ВыгрузитьКолонку("ВидДокумента"));
	Параметры.Вставить("ТипыОперацияЗаявкаНаОперацию", УзелДляОбмена.ЗаявкиНаОперации.ВыгрузитьКолонку("ТипОперации"));
Иначе
	Параметры.Вставить("ВидыДокументовЗаявкаНаОперацию", Новый Массив);
	Параметры.Вставить("ТипыОперацияЗаявкаНаОперацию", Новый Массив);
КонецЕсли;
Параметры.Вставить("ВыгружатьПроектыИПроектныеЗадачи", УзелДляОбмена.ВыгружатьПроектыИПроектныеЗадачи);

// перенесем выгружаемые виды документов для обновления ТЧ узла плана обмена на стороне БП

// заявки на операции
ТаблицаВидовДокументов = Новый ТаблицаЗначений;
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента");
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента_Ключ");
ТаблицаВидовДокументов.Колонки.Добавить("ТипОперации");
Для каждого СтрокаТабличнойЧасти из УзелДляОбмена.ЗаявкиНаОперации Цикл
	СтрокаВидаДокумента = ТаблицаВидовДокументов.Добавить();
	СтрокаВидаДокумента.ВидДокумента = Строка(СтрокаТабличнойЧасти.ВидДокумента);
	СтрокаВидаДокумента.ВидДокумента_Ключ = ЗначениеВСтрокуВнутр(СтрокаТабличнойЧасти.ВидДокумента);
	СтрокаВидаДокумента.ТипОперации = СтрокаТабличнойЧасти.ТипОперации;
КонецЦикла;
НовыйПараметр = ТаблицаНастройкиПараметров.Добавить();
НовыйПараметр.Имя = "ЗаявкиНаОперации";
НовыйПараметр.Значение = Новый ХранилищеЗначения(ТаблицаВидовДокументов);
НовыйПараметр.ПередаватьПараметрПриВыгрузке = Истина;

// договоры
ТаблицаВидовДокументов = Новый ТаблицаЗначений;
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента");
ТаблицаВидовДокументов.Колонки.Добавить("ВидДокумента_Ключ");
Для каждого СтрокаТабличнойЧасти из УзелДляОбмена.Договоры Цикл
	СтрокаВидаДокумента = ТаблицаВидовДокументов.Добавить();
	СтрокаВидаДокумента.ВидДокумента = Строка(СтрокаТабличнойЧасти.ВидДокумента);
	СтрокаВидаДокумента.ВидДокумента_Ключ = ЗначениеВСтрокуВнутр(СтрокаТабличнойЧасти.ВидДокумента);
КонецЦикла;
НовыйПараметр = ТаблицаНастройкиПараметров.Добавить();
НовыйПараметр.Имя = "Договоры";
НовыйПараметр.Значение = Новый ХранилищеЗначения(ТаблицаВидовДокументов);
НовыйПараметр.ПередаватьПараметрПриВыгрузке = Истина;</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ЗагруженныеЗаявки", Новый ТаблицаЗначений);
Параметры.ЗагруженныеЗаявки.Колонки.Добавить("Ссылка");
Параметры.ЗагруженныеЗаявки.Колонки.Добавить("ДатаУстановкиСостояния");</ПередЗагрузкойДанных>
	<ПослеЗагрузкиДанных>Для Каждого СтрокаЗаявка Из Параметры.ЗагруженныеЗаявки Цикл
	ЗаписьСостояния = РегистрыСведений.РегистрСостоянийОбъектов.СоздатьМенеджерЗаписи();
	ЗаписьСостояния.Период = СтрокаЗаявка.ДатаУстановкиСостояния;
	ЗаписьСостояния.Объект = СтрокаЗаявка.Ссылка;
	ЗаписьСостояния.СостояниеОбъекта = Перечисления.СостоянияСогласования.Утверждена;
	ЗаписьСостояния.Записать();	
КонецЦикла;</ПослеЗагрузкиДанных>
	<ПриПолученииИнформацииОбУдалении>МетаданныеОбъекта = Объект.Метаданные();
Если Метаданные.Справочники.Содержит(МетаданныеОбъекта) Тогда
	Отказ  = Истина;
	УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "Справочник");
КонецЕсли;</ПриПолученииИнформацииОбУдалении>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ЮридическоеФизическоеЛицо</Код>
				<Наименование>Перечисление: Юр физ лицо</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ИндивидуальныйПредприниматель --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ИндивидуальныйПредприниматель</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ЮрЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ЮрЛицоНеРезидент --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник>ЮрЛицоНеРезидент</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Факс --&gt; Факс</Наименование>
						<Порядок>300</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Факс</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Skype --&gt; Другое</Наименование>
						<Порядок>350</Порядок>
						<Источник>Skype</Источник>
						<Приемник>Skype</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыУстановкиКурсаВалюты</Код>
				<Наименование>Перечисление: Способы установки курса валюты</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.СпособыУстановкиКурсаВалюты</Источник>
				<Приемник>ПеречислениеСсылка.СпособыУстановкиКурсаВалюты</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ЗагрузкаИзИнтернета --&gt; ЗагрузкаИзИнтернета</Наименование>
						<Порядок>50</Порядок>
						<Источник>ЗагрузкаИзИнтернета</Источник>
						<Приемник>ЗагрузкаИзИнтернета</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НаценкаНаКурсДругойВалюты --&gt; НаценкаНаКурсДругойВ</Наименование>
						<Порядок>100</Порядок>
						<Источник>НаценкаНаКурсДругойВалюты</Источник>
						<Приемник>НаценкаНаКурсДругойВалюты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РасчетПоФормуле --&gt; РасчетПоФормуле</Наименование>
						<Порядок>150</Порядок>
						<Источник>РасчетПоФормуле</Источник>
						<Приемник>РасчетПоФормуле</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>РучнойВвод --&gt; РучнойВвод</Наименование>
						<Порядок>200</Порядок>
						<Источник>РучнойВвод</Источник>
						<Приемник>РучнойВвод</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПолФизическогоЛица</Код>
				<Наименование>Перечисление: Пол физического лица</Наименование>
				<Порядок>200</Порядок>
				<Источник>ПеречислениеСсылка.ПолФизическогоЛица</Источник>
				<Приемник>ПеречислениеСсылка.ПолФизическогоЛица</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Женский --&gt; Женский</Наименование>
						<Порядок>50</Порядок>
						<Источник>Женский</Источник>
						<Приемник>Женский</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Мужской --&gt; Мужской</Наименование>
						<Порядок>100</Порядок>
						<Источник>Мужской</Источник>
						<Приемник>Мужской</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Группа>
				<Код>Вспомогательные</Код>
				<Наименование>Вспомогательные</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>Валюты</Код>
					<Наименование>Справочник: Валюты</Наименование>
					<Порядок>50</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Валюты</Источник>
					<Приемник>СправочникСсылка.Валюты</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ЗагружаетсяИзИнтернета --&gt; ЗагружаетсяИзИнтернета</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Наценка --&gt; Наценка</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ОсновнаяВалюта --&gt; ОсновнаяВалюта</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ОсновнаяВалюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ОсновнаяВалюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>СпособУстановкиКурса --&gt; СпособУстановкиКурса</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
							<Приемник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
							<КодПравилаКонвертации>СпособыУстановкиКурсаВалюты                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ФормулаРасчетаКурса --&gt; ФормулаРасчетаКурса</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ФормулаРасчетаКурса" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ФормулаРасчетаКурса" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВидыКонтактнойИнформации</Код>
					<Наименование>Справочник: Виды контактной информации</Наименование>
					<Порядок>100</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
					<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>2</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ВидРедактирования --&gt; ВидРедактирования</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ВидРедактирования" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ВидРедактирования" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Используется --&gt; Используется</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>EmailКонтактногоЛица --&gt; EmailКонтактныеЛица</Наименование>
							<Порядок>50</Порядок>
							<Источник>EmailКонтактногоЛица</Источник>
							<Приемник>EmailКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>2</Код>
							<Наименование>EmailКорреспондента --&gt; EmailКонтрагенты</Наименование>
							<Порядок>100</Порядок>
							<Источник>EmailКонтрагента</Источник>
							<Приемник>EmailКонтрагенты</Приемник>
						</Значение>
						<Значение>
							<Код>3</Код>
							<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
							<Порядок>150</Порядок>
							<Источник>EmailОрганизации</Источник>
							<Приемник>EmailОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>4</Код>
							<Наименование>EmailПользователя --&gt; EmailПользователя</Наименование>
							<Порядок>200</Порядок>
							<Источник>EmailПользователя</Источник>
							<Приемник>EmailПользователя</Приемник>
						</Значение>
						<Значение>
							<Код>5</Код>
							<Наименование>ДомашнийАдресФизическогоЛица --&gt; АдресДляИнформиро</Наименование>
							<Порядок>250</Порядок>
							<Источник>ДомашнийАдресФизическогоЛица</Источник>
							<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>6</Код>
							<Наименование>ДомашнийТелефонФизическогоЛица --&gt; ТелефонДомашний</Наименование>
							<Порядок>300</Порядок>
							<Источник>ДомашнийТелефонФизическогоЛица</Источник>
							<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>7</Код>
							<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
							<Порядок>350</Порядок>
							<Источник>ДругаяИнформацияОрганизации</Источник>
							<Приемник>ДругаяИнформацияОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>8</Код>
							<Наименование>МобильныйТелефонКонтактногоЛица --&gt; ТелефонМобильн</Наименование>
							<Порядок>400</Порядок>
							<Источник>МобильныйТелефонКонтактногоЛица</Источник>
							<Приемник>ТелефонМобильныйКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>9</Код>
							<Наименование>МобильныйТелефонФизическогоЛица --&gt; ТелефонДомашни</Наименование>
							<Порядок>450</Порядок>
							<Источник>МобильныйТелефонФизическогоЛица</Источник>
							<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>10</Код>
							<Наименование>ПочтовыйАдресКорреспондента --&gt; ФактАдресКонтраген</Наименование>
							<Порядок>500</Порядок>
							<Источник>ФактическийАдресКонтрагента</Источник>
							<Приемник>ФактАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>11</Код>
							<Наименование>ПочтовыйАдресОрганизации --&gt; ПочтовыйАдресОрганиза</Наименование>
							<Порядок>550</Порядок>
							<Источник>ПочтовыйАдресОрганизации</Источник>
							<Приемник>ПочтовыйАдресОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>12</Код>
							<Наименование>ТелефонКонтактногоЛица --&gt; ТелефонРабочийКонтактны</Наименование>
							<Порядок>800</Порядок>
							<Источник>ТелефонКонтактногоЛица</Источник>
							<Приемник>ТелефонРабочийКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>13</Код>
							<Наименование>ТелефонКорреспондента --&gt; ТелефонКонтрагента</Наименование>
							<Порядок>850</Порядок>
							<Источник>ТелефонКонтрагента</Источник>
							<Приемник>ТелефонКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>14</Код>
							<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
							<Порядок>900</Порядок>
							<Источник>ТелефонОрганизации</Источник>
							<Приемник>ТелефонОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>15</Код>
							<Наименование>ТелефонПользователя --&gt; ТелефонПользователя</Наименование>
							<Порядок>950</Порядок>
							<Источник>ТелефонПользователя</Источник>
							<Приемник>ТелефонПользователя</Приемник>
						</Значение>
						<Значение>
							<Код>16</Код>
							<Наименование>ФаксКорреспондента --&gt; ФаксКонтрагенты</Наименование>
							<Порядок>1000</Порядок>
							<Источник>ФаксКонтрагента</Источник>
							<Приемник>ФаксКонтрагенты</Приемник>
						</Значение>
						<Значение>
							<Код>17</Код>
							<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
							<Порядок>1050</Порядок>
							<Источник>ФаксОрганизации</Источник>
							<Приемник>ФаксОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>18</Код>
							<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
							<Порядок>1100</Порядок>
							<Источник>ФактАдресОрганизации</Источник>
							<Приемник>ФактАдресОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>19</Код>
							<Наименование>ФактическийАдресКорреспондента --&gt; ФактАдресКонтра</Наименование>
							<Порядок>1150</Порядок>
							<Источник>ФактическийАдресКонтрагента</Источник>
							<Приемник>ФактАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>20</Код>
							<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
							<Порядок>1200</Порядок>
							<Источник>ЮрАдресОрганизации</Источник>
							<Приемник>ЮрАдресОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>21</Код>
							<Наименование>ЮридическийАдресКорреспондента --&gt; ЮрАдресКонтраге</Наименование>
							<Порядок>1250</Порядок>
							<Источник>ЮридическийАдресКонтрагента</Источник>
							<Приемник>ЮрАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>22</Код>
							<Наименование>ПочтовыйАдресКонтрагента --&gt; ПочтовыйАдресКонтраге</Наименование>
							<Порядок>1300</Порядок>
							<Источник>ПочтовыйАдресКонтрагента</Источник>
							<Приемник>ПочтовыйАдресКонтрагента</Приемник>
						</Значение>
						<Значение>
							<Код>23</Код>
							<Наименование>СправочникКонтактныеЛица --&gt; СправочникКонтактныеЛ</Наименование>
							<Порядок>1350</Порядок>
							<Источник>СправочникКонтактныеЛица</Источник>
							<Приемник>СправочникКонтактныеЛица</Приемник>
						</Значение>
						<Значение>
							<Код>24</Код>
							<Наименование>СправочникКонтрагенты --&gt; СправочникКонтрагенты</Наименование>
							<Порядок>1400</Порядок>
							<Источник>СправочникКонтрагенты</Источник>
							<Приемник>СправочникКонтрагенты</Приемник>
						</Значение>
						<Значение>
							<Код>25</Код>
							<Наименование>СправочникОрганизации --&gt; СправочникОрганизации</Наименование>
							<Порядок>1450</Порядок>
							<Источник>СправочникОрганизации</Источник>
							<Приемник>СправочникОрганизации</Приемник>
						</Значение>
						<Значение>
							<Код>26</Код>
							<Наименование>СправочникПользователи --&gt; СправочникПользователи</Наименование>
							<Порядок>1500</Порядок>
							<Источник>СправочникПользователи</Источник>
							<Приемник>СправочникПользователи</Приемник>
						</Значение>
						<Значение>
							<Код>27</Код>
							<Наименование>СправочникФизическиеЛица --&gt; СправочникФизическиеЛ</Наименование>
							<Порядок>1550</Порядок>
							<Источник>СправочникФизическиеЛица</Источник>
							<Приемник>СправочникФизическиеЛица</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>СтраныМира</Код>
					<Наименование>Справочник: Страны мира</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.СтраныМира</Источник>
					<Приемник>СправочникСсылка.СтраныМира</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодАльфа3 --&gt; КодАльфа3</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>УчастникЕАЭС --&gt; УчастникЕАЭС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="УчастникЕАЭС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчастникЕАЭС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>МеждународноеНаименование --&gt; МеждународноеНаименование</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="МеждународноеНаименование" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="МеждународноеНаименование" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторБанков</Код>
					<Наименование>Справочник: Классификатор банков</Наименование>
					<Порядок>200</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторБанков</Источник>
					<Приемник>СправочникСсылка.Банки</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанков"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<КодПравилаКонвертации>КлассификаторБанков                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство Обязательное="true">
							<Код>8</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>СВИФТБИК --&gt; СВИФТБИК</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="СВИФТБИК" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="СВИФТБИК" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СтатьиДвиженияДенежныхСредств</Код>
					<Наименование>Справочник: Статьи движения денежных средств</Наименование>
					<Порядок>250</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
					<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>4</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ФизическиеЛица</Код>
					<Наименование>Справочник: Физические лица</Наименование>
					<Порядок>300</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.ФизическиеЛица</Источник>
					<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Пол --&gt; Пол</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
							<Приемник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
							<КодПравилаКонвертации>ПолФизическогоЛица                                </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>6</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Пользователи</Код>
					<Наименование>Справочник: Пользователи</Наименование>
					<Порядок>350</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Пользователи</Источник>
					<Приемник>СправочникСсылка.Пользователи</Приемник>
					<Свойства>
						<Свойство>
							<Код>13</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>4</Код>
								<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Вид --&gt; Вид</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Город --&gt; Город</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Представление --&gt; Представление</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Регион --&gt; Регион</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Страна --&gt; Страна</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Тип --&gt; Тип</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>100</Порядок>
				<ПослеВыгрузки>Параметры.ВыгруженныеОрганизации.Добавить(Источник);</ПослеВыгрузки>
				<ПослеЗагрузки>Если ЗначениеЗаполнено(Объект.Наименование)
		И Не ЗначениеЗаполнено(Объект.НаименованиеСокращенное) Тогда
	Объект.НаименованиеСокращенное = Объект.Наименование;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если ЗначениеЗаполнено(СвойстваПоиска["ИНН"]) Тогда
	Если НомерВариантаПоиска = 1 Тогда
		СтрокаИменСвойствПоиска = "ИНН, КПП";
	ИначеЕсли НомерВариантаПоиска = 2 Тогда
		СтрокаИменСвойствПоиска = "ИНН, Наименование";
	Иначе
		СтрокаИменСвойствПоиска = "Наименование";
	КонецЕсли;
Иначе
	СтрокаИменСвойствПоиска = "Наименование";
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство>
						<Код>16</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>22</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>Наименование --&gt; НаименованиеСокращенное</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НаименованиеСокращенное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>20</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>21</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ОсновнойБанковскийСчет --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ОсновнойБанковскийСчет)
		И Параметры.ВыгруженныеБанковскиеСчета.Найти(Источник.ОсновнойБанковскийСчет) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.ОсновнойБанковскийСчет,,,,"БанковскиеСчета");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮридическоеФизическоеЛицо                         </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>150</Порядок>
				<ПослеВыгрузки>Параметры.ВыгруженныеКонтрагенты.Добавить(Источник);

Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КонтактныеЛица.Ссылка КАК Ссылка
	|ИЗ
	|	Справочник.КонтактныеЛица КАК КонтактныеЛица
	|ГДЕ
	|	КонтактныеЛица.Владелец = &amp;Контрагент
	|	И НЕ КонтактныеЛица.ПометкаУдаления";
Запрос.УстановитьПараметр("Контрагент", Источник.Ссылка);
ВыборкаКонтактныеЛица = Запрос.Выполнить().Выбрать();

Пока ВыборкаКонтактныеЛица.Следующий() Цикл
	ВыгрузитьПоПравилу(ВыборкаКонтактныеЛица.Ссылка,,,,"КонтактныеЛица");
КонецЦикла;</ПослеВыгрузки>
				<ПослеЗагрузки>Если ПараметрыОбъекта &lt;&gt; Неопределено И ЗначениеЗаполнено(ПараметрыОбъекта["СтранаРегистрации"]) Тогда
	Запрос = Новый Запрос(
		"ВЫБРАТЬ ПЕРВЫЕ 1
		|	Ссылка
		|ИЗ
		|	Справочник.СтраныМира
		|ГДЕ
		|	НЕ ПометкаУдаления
		|	И Наименование ПОДОБНО &amp;СтранаРегистрации");
	Запрос.УстановитьПараметр("СтранаРегистрации", СокрЛП(ПараметрыОбъекта["СтранаРегистрации"]));
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Объект.СтранаРегистрации = Выборка.Ссылка;
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если ЗначениеЗаполнено(СвойстваПоиска["ИНН"]) Тогда
	Если НомерВариантаПоиска = 1 Тогда
		СтрокаИменСвойствПоиска = "ИНН, КПП, Наименование, ЭтоГруппа";
		
	ИначеЕсли НомерВариантаПоиска = 2 Тогда
		СтрокаИменСвойствПоиска = "ИНН, КПП, ЭтоГруппа";
		
	Иначе
		СтрокаИменСвойствПоиска = "ИНН, Наименование, ЭтоГруппа";
		
	КонецЕсли;
Иначе
	СтрокаИменСвойствПоиска = "Наименование, ЭтоГруппа";
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>16</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>24</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>22</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>23</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>25</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>ОсновнойБанковскийСчет --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ОсновнойБанковскийСчет)
		И Параметры.ВыгруженныеБанковскиеСчета.Найти(Источник.ОсновнойБанковскийСчет) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.ОсновнойБанковскийСчет,,,,"БанковскиеСчета");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮридическоеФизическоеЛицо                         </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						<Свойство>
							<Код>3</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Значение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Значение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; СтранаРегистрации</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>СтранаРегистрации</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = "";
Для Каждого Строка Из Источник.КонтактнаяИнформация Цикл
	Если Строка.Вид = Справочники.ВидыКонтактнойИнформации.ЮридическийАдресКонтрагента
			И ЗначениеЗаполнено(Строка.Страна) Тогда
		Значение = Строка.Страна;
		Прервать;
	КонецЕсли;
КонецЦикла;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>РегистрационныйНомер --&gt; РегистрационныйНомер</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КонтактныеЛица</Код>
				<Наименование>Справочник: Контактные лица</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.КонтактныеЛица</Источник>
				<Приемник>СправочникСсылка.КонтактныеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>16</Код>
						<Наименование>Владелец --&gt; ОбъектВладелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="ОбъектВладелец" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>15</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Должность --&gt; Должность</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Должность" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Должность" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>12</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БанковскиеСчета</Код>
				<Наименование>Справочник: Банковские счета</Наименование>
				<Порядок>250</Порядок>
				<ПослеВыгрузки>Параметры.ВыгруженныеБанковскиеСчета.Добавить(Источник);</ПослеВыгрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.БанковскиеСчета</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
				<Свойства>
					<Свойство>
						<Код>11</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>16</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Владелец" Вид="Свойство"/>
						<Приемник Имя="Владелец" Вид="Свойство"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>15</Код>
						<Наименование>НомерСчета --&gt; НомерСчета</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование>Банк --&gt; Банк</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
						<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>КлассификаторБанков                               </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>БанкДляРасчетов --&gt; БанкДляРасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
						<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>КлассификаторБанков                               </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВидСчета --&gt; ВидСчета</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ДатаЗакрытия --&gt; ДатаЗакрытия</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДатаОткрытия --&gt; ДатаОткрытия</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>МесяцПрописью --&gt; МесяцПрописью</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="МесяцПрописью" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="МесяцПрописью" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>НомерИДатаРазрешения --&gt; НомерИДатаРазрешения</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>СуммаБезКопеек --&gt; СуммаБезКопеек</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммаБезКопеек" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаБезКопеек" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ТекстКорреспондента --&gt; ТекстКорреспондента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ТекстНазначения --&gt; ТекстНазначения</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Проекты</Код>
				<Наименование>Справочник: Проекты</Наименование>
				<Порядок>300</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Проекты</Источник>
				<Приемник>СправочникСсылка.Проекты</Приемник>
				<Свойства>
					<Свойство>
						<Код>4</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПриводитьКДлине>9</ПриводитьКДлине>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Проекты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Проекты"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Состояние --&gt; Состояние</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Состояние" Вид="Реквизит" Тип="ПеречислениеСсылка.СостоянияПроектов"/>
						<Приемник Имя="Состояние" Вид="Реквизит" Тип="ПеречислениеСсылка.СостоянияПроектов"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПроектныеЗадачи</Код>
				<Наименование>Справочник: Проектные задачи</Наименование>
				<Порядок>350</Порядок>
				<ПриВыгрузке>Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ТекущийПланНачало,
	|	ТекущийПланОкончание,
	|	НачалоФакт,
	|	ОкончаниеФакт
	|ИЗ РегистрСведений.СрокиПроектныхЗадач
	|ГДЕ ПроектнаяЗадача = &amp;ПроектнаяЗадача");
Запрос.УстановитьПараметр("ПроектнаяЗадача", Источник.Ссылка);
Выборка = Запрос.Выполнить().Выбрать();
ВходящиеДанные = Новый Структура;
Если Выборка.Следующий() Тогда
	ВходящиеДанные.Вставить("ДатаНачала", 
		?(ЗначениеЗаполнено(Выборка.НачалоФакт), Выборка.НачалоФакт, Выборка.ТекущийПланНачало));
	ВходящиеДанные.Вставить("ДатаОкончания", 
		?(ЗначениеЗаполнено(Выборка.ОкончаниеФакт), Выборка.ОкончаниеФакт, Выборка.ТекущийПланОкончание));
Иначе
	ВходящиеДанные.Вставить("ДатаНачала", Неопределено);
	ВходящиеДанные.Вставить("ДатаОкончания", Неопределено);
КонецЕсли;
</ПриВыгрузке>
				<ПослеЗагрузки>// Запишем дату начала и окончания в РС АтрибутыПроектов
Запись = РегистрыСведений.АтрибутыПроектов.СоздатьМенеджерЗаписи();
Если ЗначениеЗаполнено(Ссылка) Тогда
	Запись.Проект = Ссылка;
Иначе
	Запись.Проект = Объект.ПолучитьСсылкуНового();
КонецЕсли;
Запись.Сценарий = Справочники.Сценарии.План;
Запись.Прочитать();
Запись.ДатаНачала = ПараметрыОбъекта["ДатаНачала"];
Запись.ДатаОкончания = ПараметрыОбъекта["ДатаОкончания"];
Если ЗначениеЗаполнено(Запись.ДатаНачала)
	И ЗначениеЗаполнено(Запись.ДатаОкончания) Тогда
	Запись.ДлительностьДней = (Запись.ДатаОкончания - Запись.ДатаНачала) / 86400;
КонецЕсли;
Запись.Записать();</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ПроектныеЗадачи</Источник>
				<Приемник>СправочникСсылка.Проекты</Приемник>
				<Свойства>
					<Свойство>
						<Код>3</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПриводитьКДлине>9</ПриводитьКДлине>
					</Свойство>
					<Свойство Поиск="true">
						<Код>8</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Владелец --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Проекты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Проекты"/>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Родитель) Тогда
	Значение = Источник.Родитель;
	ИмяПКО = "ПроектныеЗадачи";
Иначе
	Значение = Источник.Владелец;
	ИмяПКО = "Проекты";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ДатаНачала</Наименование>
						<Порядок>250</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ДатаНачала</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ДатаОкончания</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ДатаОкончания</ИмяПараметраДляПередачи>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>Предшественники --&gt; ПроектыПредшественники</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Предшественники" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ПроектыПредшественники" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>Предшественник --&gt; Проект</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Предшественник" Вид="Реквизит" Тип="СправочникСсылка.ПроектныеЗадачи"/>
							<Приемник Имя="Проект" Вид="Реквизит" Тип="СправочникСсылка.Проекты"/>
							<КодПравилаКонвертации>ПроектныеЗадачи                                   </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Договоры</Код>
				<Наименование>Справочник: Внутренние документы</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Отказ = Не ЗначениеЗаполнено(Источник.РегистрационныйНомер)
	Или Не ЗначениеЗаполнено(Источник.ДатаРегистрации);</ПередВыгрузкой>
				<ПослеВыгрузки>Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВнутренниеДокументы.Организация КАК Организация,
	|	ВнутренниеДокументы.ДатаРегистрации КАК ДатаРегистрации,
	|	ВнутренниеДокументы.РегистрационныйНомер КАК РегистрационныйНомер,
	|	ВнутренниеДокументы.Наименование КАК Наименование,
	|	ВнутренниеДокументы.Комментарий КАК Комментарий,
	|	ВнутренниеДокументы.ДатаОкончанияДействия КАК ДатаОкончанияДействия,
	|	ВнутренниеДокументы.ВидДокумента КАК ВидДокумента,
	|	ВнутренниеДокументы.ДатаНачалаДействия КАК ДатаНачалаДействия,
	|	ВнутренниеДокументы.ДатаПодписания КАК ДатаПодписания,
	|	ВнутренниеДокументы.КоличествоЛистов КАК КоличествоЛистов,
	|	ВнутренниеДокументы.Ответственный КАК Ответственный,
	|	ВнутренниеДокументы.Сумма КАК Сумма,
	|	ВнутренниеДокументы.СуммаНДС КАК СуммаНДС,
	|	ВнутренниеДокументы.Валюта КАК Валюта,
	|	ВнутренниеДокументы.ПометкаУдаления КАК ПометкаУдаления,
	|	ВидыВнутреннихДокументов.ВестиУчетСторон КАК ВестиУчетСторон
	|ИЗ
	|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВидыВнутреннихДокументов КАК ВидыВнутреннихДокументов
	|		ПО ВнутренниеДокументы.ВидДокумента = ВидыВнутреннихДокументов.Ссылка
	|ГДЕ
	|	ВнутренниеДокументы.Ссылка = &amp;Источник
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыКонтрагенты.Контрагент КАК Контрагент
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
	|ГДЕ
	|	ВнутренниеДокументыКонтрагенты.Ссылка = &amp;Источник
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыСтороны.Сторона КАК Организация
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
	|ГДЕ
	|	ВнутренниеДокументыСтороны.Ссылка = &amp;Источник
	|	И ВнутренниеДокументыСтороны.Сторона ССЫЛКА Справочник.Организации");
Запрос.УстановитьПараметр("Источник", Источник.Ссылка);
МассивРезультатов = Запрос.ВыполнитьПакет();

КомбинацииДоговоров = Новый ТаблицаЗначений;
КомбинацииДоговоров.Колонки.Добавить("Организация");
КомбинацииДоговоров.Колонки.Добавить("Контрагент");

ДанныеДоговора = МассивРезультатов[0].Выбрать();
ДанныеДоговора.Следующий();

Если ДанныеДоговора.ВестиУчетСторон Тогда
	Для Каждого СтрокаОрганизация Из МассивРезультатов[2].Выгрузить() Цикл
		Для Каждого СтрокаКонтрагент Из МассивРезультатов[1].Выгрузить() Цикл
			НоваяСтрока = КомбинацииДоговоров.Добавить();
			НоваяСтрока.Организация = СтрокаОрганизация.Организация;
			НоваяСтрока.Контрагент = СтрокаКонтрагент.Контрагент;
		КонецЦикла;
	КонецЦикла;
Иначе
	Для Каждого СтрокаКонтрагент Из МассивРезультатов[1].Выгрузить() Цикл
		НоваяСтрока = КомбинацииДоговоров.Добавить();
		НоваяСтрока.Организация = ДанныеДоговора.Организация;
		НоваяСтрока.Контрагент = СтрокаКонтрагент.Контрагент;
	КонецЦикла;
КонецЕсли;

Если ЗначениеЗаполнено(ДанныеДоговора.РегистрационныйНомер) И ЗначениеЗаполнено(ДанныеДоговора.ДатаРегистрации) Тогда

	Для Каждого Строка Из КомбинацииДоговоров Цикл 
		Если Параметры.ОграничиватьВыгрузку 
				И Параметры.Организации.Найти(Строка.Организация) = Неопределено
				И Параметры.Контрагенты.Найти(Строка.Контрагент) = Неопределено Тогда
			Продолжить;
		КонецЕсли;
		
		ВходящиеДанные = Новый Структура;
	    ВходящиеДанные.Вставить("Владелец", Строка.Контрагент);
	    ВходящиеДанные.Вставить("Организация", Строка.Организация);
	    ВходящиеДанные.Вставить("Дата", ДанныеДоговора.ДатаРегистрации);
	    ВходящиеДанные.Вставить("Номер", ДанныеДоговора.РегистрационныйНомер);
	    ВходящиеДанные.Вставить("Наименование", ДанныеДоговора.Наименование);
	    ВходящиеДанные.Вставить("ВалютаВзаиморасчетов", ДанныеДоговора.Валюта);
		ВходящиеДанные.Вставить("Комментарий", ДанныеДоговора.Комментарий);
		ВходящиеДанные.Вставить("СрокДействия", ДанныеДоговора.ДатаОкончанияДействия);
		ВходящиеДанные.Вставить("ВидДокумента", ДанныеДоговора.ВидДокумента);
		ВходящиеДанные.Вставить("ДатаНачалаДействия", ДанныеДоговора.ДатаНачалаДействия);
		ВходящиеДанные.Вставить("ДатаПодписания", ДанныеДоговора.ДатаПодписания);
		ВходящиеДанные.Вставить("КоличествоЛистов", ДанныеДоговора.КоличествоЛистов);
		ВходящиеДанные.Вставить("Ответственный", ДанныеДоговора.Ответственный);
		ВходящиеДанные.Вставить("Сумма", ДанныеДоговора.Сумма);
		ВходящиеДанные.Вставить("СуммаНДС", ДанныеДоговора.СуммаНДС);
		ВходящиеДанные.Вставить("ПометкаУдаления", ДанныеДоговора.ПометкаУдаления);
		
		ВыгрузитьПоПравилу(,,ВходящиеДанные,,"ДоговорыПоСторонам");    
	КонецЦикла;
	
	Отказ = Истина;

КонецЕсли;</ПослеВыгрузки>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВнутренниеДокументы</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Контрагент --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ДатаРегистрации --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ДатаРегистрации" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>РегистрационныйНомер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДатаОкончанияДействия --&gt; СрокДействия</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; ВидДокумента_Ключ</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВидДокумента_Ключ</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.ВидДокумента);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ДатаНачалаДействия --&gt; ДатаНачалаДействия</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ДатаПодписания --&gt; ДатаПодписания</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ДатаПодписания" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаПодписания" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>КоличествоЛистов --&gt; КоличествоЛистов</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="КоличествоЛистов" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="КоличествоЛистов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Сумма --&gt; Сумма</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Валюта --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗаявкиНаОперации</Код>
				<Наименование>Справочник: Внутренние документы</Наименование>
				<Порядок>450</Порядок>
				<ПередВыгрузкой>Отказ = Не ЗначениеЗаполнено(Источник.РегистрационныйНомер)
	Или Не ЗначениеЗаполнено(Источник.ДатаРегистрации);
РежимЗаписи = "Проведение";
РежимПроведения = "Неоперативный";</ПередВыгрузкой>
				<ПриВыгрузке>Если ТипЗнч(ВходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;
// Получим тип операции.
Позиция = Параметры.ВидыДокументовЗаявкаНаОперацию.Найти(Источник.ВидДокумента);
Если Позиция = Неопределено Тогда
	Отказ = Истина;
Иначе
	ТипОперации = Параметры.ТипыОперацияЗаявкаНаОперацию[Позиция];
	ВходящиеДанные.Вставить("ТипОперацииБюджетирование", ТипОперации);
	// Выберем расшифровку платежа по статьям ДДС.
	Запрос = Новый Запрос(
		"ВЫБРАТЬ
		|	СтатьяДвиженияДенежныхСредств КАК СтатьяДвиженияДенежныхСредств,
		|	Сумма КАК Сумма,
		|	СуммаНДС КАК СуммаНДС
		|ИЗ
		|	РегистрСведений.СтатьиДвиженияДенежныхСредствДокументов
		|ГДЕ
		|	Документ = &amp;Источник");
	Запрос.УстановитьПараметр("Источник", Источник.Ссылка);
	ДвиженияОперации = Запрос.Выполнить().Выгрузить();
	ВходящиеДанные.Вставить("ДвиженияОперации", ДвиженияОперации);
	ВходящиеДанные.Вставить("СуммаНДС", ДвиженияОперации.Итог("СуммаНДС"));
КонецЕсли;</ПриВыгрузке>
				<ПослеЗагрузки>// Определим счет контрагента и договор.
Если ЗначениеЗаполнено(Объект.Контрагент)
	И (Не ЗначениеЗаполнено(Объект.СчетКонтрагента) Или Объект.СчетКонтрагента.Владелец &lt;&gt; Объект.Контрагент)
	И ЗначениеЗаполнено(Объект.Контрагент.ОсновнойБанковскийСчет) Тогда
	Объект.СчетКонтрагента = Объект.Контрагент.ОсновнойБанковскийСчет;
КонецЕсли;

// Перенесем проект в табличную часть и определим ставку НДС.
Для Каждого Строка Из Объект.ДвиженияОперации Цикл
	
	Строка.Проект = Объект.Проект;
	
	Если Строка.СуммаНДС = 0 Тогда
		Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Иначе
		СуммаНДС20 = Строка.Сумма * 20 / 120;
		Разница20 = ?(Строка.СуммаНДС - СуммаНДС20 &gt; 0, Строка.СуммаНДС - СуммаНДС20, СуммаНДС20 - Строка.СуммаНДС);
		СуммаНДС18 = Строка.Сумма * 18 / 118;
		Разница18 = ?(Строка.СуммаНДС - СуммаНДС18 &gt; 0, Строка.СуммаНДС - СуммаНДС18, СуммаНДС18 - Строка.СуммаНДС);
		СуммаНДС10 = Строка.Сумма * 10 / 110;
		Разница10 = ?(Строка.СуммаНДС - СуммаНДС10 &gt; 0, Строка.СуммаНДС - СуммаНДС10, СуммаНДС10 - Строка.СуммаНДС);
		Если Разница10 &lt; Разница18 Тогда
			Строка.СтавкаНДС = Перечисления.СтавкиНДС.НДС10;
		ИначеЕсли Разница18 &lt; Разница20 Тогда
			Строка.СтавкаНДС = Перечисления.СтавкиНДС.НДС18;
		Иначе
			Строка.СтавкаНДС = Перечисления.СтавкиНДС.НДС20;
		КонецЕсли;
	КонецЕсли;
	
КонецЦикла;

// Найдем структуру со значениями реквизитов и дозаполним наш объект.
СтрокаВидаДокумента = Параметры.ЗаявкиНаОперации.Найти(ПараметрыОбъекта["ВидДокумента_Ключ"]);
Если СтрокаВидаДокумента &lt;&gt; Неопределено и ЗначениеЗаполнено(СтрокаВидаДокумента.ЗначенияРеквизитов) Тогда
	ЗначенияРеквизитов = ЗначениеИзСтрокиВнутр(СтрокаВидаДокумента.ЗначенияРеквизитов);
	Если ТипЗнч(ЗначенияРеквизитов) = Тип("Структура") Тогда
		РеквизитыОбъекта = Объект.Метаданные().Реквизиты;
		Для каждого КлючИЗначение из ЗначенияРеквизитов Цикл
			Если РеквизитыОбъекта.Найти(КлючИЗначение.Ключ) &lt;&gt; Неопределено Тогда
				Объект[КлючИЗначение.Ключ] = КлючИЗначение.Значение;
			КонецЕсли;
		КонецЦИкла;
	КонецЕсли;
КонецЕсли;

// Заполним прочие реквизиты.
Если Не ЗначениеЗаполнено(Объект.Номер) Тогда
	Объект.УстановитьНовыйНомер();
КонецЕсли;

СтрокаЗаявка = Параметры.ЗагруженныеЗаявки.Добавить();
Если ЗначениеЗаполнено(Ссылка) Тогда
	СтрокаЗаявка.Ссылка = Ссылка;
Иначе
	СтрокаЗаявка.Ссылка = Объект.ПолучитьСсылкуНового();
КонецЕсли;
СтрокаЗаявка.ДатаУстановкиСостояния = ПараметрыОбъекта["ДатаУстановкиСостояния"];</ПослеЗагрузки>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВнутренниеДокументы</Источник>
				<Приемник>ДокументСсылка.ЗаявкаНаРасходованиеДенежныхСредств</Приемник>
				<Свойства>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДатаРегистрации --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ДатаРегистрации" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>РегистрационныйНомер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>СрокИсполнения --&gt; ДатаНачала</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="СрокИсполнения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаНачала" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеОрганизации.Найти(Источник.Организация) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Организация,,,,"Организации");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыСКонтрагентами"
	И ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыПоКредитамИЗаймамСКонтрагентами"
	И ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыСПодотчетнымиЛицами"
	И ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыПоКредитамИЗаймамСРаботниками"	Тогда
	Отказ = Истина;
КонецЕсли;

ЯвляетсяЗаявкойНаОплату = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.ВидДокумента, "ЯвляетсяЗаявкойНаОплату");
Если ЯвляетсяЗаявкойНаОплату Тогда
	Стороны = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.Ссылка, "Стороны");
	Выборка = Стороны.Выбрать();
	Пока Выборка.Следующий() Цикл
		Если Выборка.Наименование = Справочники.НаименованияСторон.Получатель Тогда
			Если ТипЗнч(Выборка.Сторона) = Тип("СправочникСсылка.Контрагенты") Тогда
				Значение = Выборка.Сторона;
				Если Параметры.ВыгруженныеКонтрагенты.Найти(Выборка.Сторона) = Неопределено Тогда
					ВыгрузитьПоПравилу(Выборка.Сторона,,,,"Контрагенты");
				КонецЕсли;
			КонецЕсли;
			Если ТипЗнч(Выборка.Сторона) = Тип("СправочникСсылка.Пользователи") Тогда
				Значение = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Выборка.Сторона, "ФизЛицо");
				ИмяПКО = "ФизическиеЛица";
			КонецЕсли;
			Прервать;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;

Если ТипЗнч(Источник.Контрагент) = Тип("СправочникСсылка.Контрагенты")
		И Параметры.ВыгруженныеКонтрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; ДоговорКонтрагента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорДляЗаявки                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыСКонтрагентами"
	И ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыПоКредитамИЗаймамСКонтрагентами"
	И ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыСПодотчетнымиЛицами"
	И ВходящиеДанные.ТипОперацииБюджетирование &lt;&gt; "РасчетыПоКредитамИЗаймамСРаботниками" Тогда
	Отказ = Истина;
КонецЕсли;
Запрос = Новый Запрос(
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	СвязанныйДокумент КАК Договор
	|ИЗ
	|	РегистрСведений.СвязиДокументов
	|ГДЕ
	|	Документ = &amp;Источник
	|	И СвязанныйДокумент.ВидДокумента.ЯвляетсяДоговором");
Запрос.УстановитьПараметр("Источник", Источник.Ссылка);
Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.Договор;
Иначе
	Отказ = Истина;
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Содержание --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Наименование --&gt; Комментарий</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>Проект --&gt; Проект</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Проект" Вид="Реквизит" Тип="СправочникСсылка.Проекты"/>
						<Приемник Имя="Проект" Вид="Реквизит" Тип="СправочникСсылка.Проекты"/>
						<КодПравилаКонвертации>Проекты                                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ВидДокумента_Ключ</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВидДокумента_Ключ</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.ВидДокумента);</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>--&gt; ДвиженияОперации</Наименование>
						<Порядок>750</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДвиженияОперации" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; ДатаУстановкиСостояния</Наименование>
						<Порядок>800</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ДатаУстановкиСостояния</ИмяПараметраДляПередачи>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыПоСторонам</Код>
				<Наименование>: </Наименование>
				<Порядок>500</Порядок>
				<ПослеЗагрузки>// стандартный обработчик - основной счет, договор и т.п.
Объект.Заполнить(Неопределено);
// найдем структуру со значениями реквизитов и заполним наш объект
СтрокаВидаДокумента = Параметры.Договоры.Найти(ПараметрыОбъекта["ВидДокумента_Ключ"]);

Если СтрокаВидаДокумента &lt;&gt; Неопределено И ЗначениеЗаполнено(СтрокаВидаДокумента.ЗначенияРеквизитов) Тогда
	ЗначенияРеквизитов = ЗначениеИзСтрокиВнутр(СтрокаВидаДокумента.ЗначенияРеквизитов);
	Если ТипЗнч(ЗначенияРеквизитов) = Тип("Структура") Тогда
		РеквизитыОбъекта = Объект.Метаданные().Реквизиты;
		Для Каждого КлючИЗначение Из ЗначенияРеквизитов Цикл
			Если РеквизитыОбъекта.Найти(КлючИЗначение.Ключ) &lt;&gt; Неопределено Тогда
				Объект[КлючИЗначение.Ключ] = КлючИЗначение.Значение;
			КонецЕсли;
		КонецЦИкла;
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеКонтрагенты.Найти(ВходящиеДанные.Владелец) = Неопределено Тогда
	ВыгрузитьПоПравилу(ВходящиеДанные.Владелец,,,,"Контрагенты");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>--&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеОрганизации.Найти(ВходящиеДанные.Организация) = Неопределено Тогда
	ВыгрузитьПоПравилу(ВходящиеДанные.Организация,,,,"Организации");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; СрокДействия</Наименование>
						<Порядок>350</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ДатаНачалаДействия</Наименование>
						<Порядок>400</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; ДатаПодписания</Наименование>
						<Порядок>450</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДатаПодписания" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; КоличествоЛистов</Наименование>
						<Порядок>500</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КоличествоЛистов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; Ответственный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>600</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>650</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>700</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; ПометкаУдаления</Наименование>
						<Порядок>750</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; ВидДокумента_Ключ</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ВидДокумента_Ключ</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(ВходящиеДанные.ВидДокумента);</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорДляЗаявки</Код>
				<Наименование>Справочник: Внутренние документы</Наименование>
				<Порядок>550</Порядок>
				<Источник>СправочникСсылка.ВнутренниеДокументы</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеОрганизации.Найти(Источник.Организация) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Организация,,,,"Организации");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Контрагент --&gt; Владелец</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Параметры.ВыгруженныеКонтрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты");
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>150</Порядок>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтраныМира</Код>
				<Наименование>Страны мира</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтраныМира</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>КлассификаторБанков</Код>
				<Наименование>Классификатор банков</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>КлассификаторБанков                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КлассификаторБанков</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.ЭтоГруппа Тогда
	Отказ = Истина;
Иначе // отбор по наличию документов
	Контрагент = Объект.Ссылка;
	КонтрагентПодлежитВыгрузке = Ложь;
	Выполнить(Алгоритмы.КонтрагентПодлежитВыгрузке);
	Отказ = Не КонтрагентПодлежитВыгрузке;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Организации</Код>
				<Наименование>Организации</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Организация = Объект.Ссылка;
ОрганизацияПодлежитВыгрузке = Ложь;
Выполнить(Алгоритмы.ОрганизацияПодлежитВыгрузке);
Отказ = Не ОрганизацияПодлежитВыгрузке;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Статьи движения денежных средств</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Проекты</Код>
				<Наименование>Проекты</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>Проекты                                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Проекты</ОбъектВыборки>
				<ПередОбработкойПравила>Отказ = Не Параметры.ВыгружатьПроектыИПроектныеЗадачи;
</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ПроектныеЗадачи</Код>
				<Наименование>Проектные задачи</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ПроектныеЗадачи                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ПроектныеЗадачи</ОбъектВыборки>
				<ПередОбработкойПравила>Отказ = Не Параметры.ВыгружатьПроектыИПроектныеЗадачи;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>БанковскиеСчета</Код>
				<Наименование>БанковскиеСчета</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БанковскиеСчета</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>// корреспондент - отбор по наличию документов
Если ТипЗнч(Объект.Владелец) = Тип("СправочникСсылка.Контрагенты") Тогда
	
	Контрагент = Объект.Владелец;
	КонтрагентПодлежитВыгрузке = Ложь;
	Выполнить(Алгоритмы.КонтрагентПодлежитВыгрузке);
	Отказ = Не КонтрагентПодлежитВыгрузке;
	
// организация - отбор по списку
ИначеЕсли ТипЗнч(Объект.Владелец) = Тип("СправочникСсылка.Организации") Тогда
	
	Организация = Объект.Владелец;
	ОрганизацияПодлежитВыгрузке = Ложь;
	Выполнить(Алгоритмы.ОрганизацияПодлежитВыгрузке);
	Отказ = Не ОрганизацияПодлежитВыгрузке;
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>КонтактныеЛица</Код>
				<Наименование>КонтактныеЛица</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>КонтактныеЛица                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КонтактныеЛица</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>// отбор по наличию документов
Контрагент = Объект.Владелец;
КонтрагентПодлежитВыгрузке = Ложь;
Выполнить(Алгоритмы.КонтрагентПодлежитВыгрузке);
Отказ = Не КонтрагентПодлежитВыгрузке;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ВнутренниеДокументы</Код>
				<Наименование>Внутренние документы</Наименование>
				<Порядок>600</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВнутренниеДокументы</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Запрос = Новый Запрос;
Запрос.Текст =
	"ВЫБРАТЬ
	|	ВнутренниеДокументы.Организация КАК Организация,
	|	ВнутренниеДокументы.Контрагент КАК Контрагент,
	|	ВнутренниеДокументы.ВидДокумента КАК ВидДокумента,
	|	ВидыВнутреннихДокументов.ВестиУчетСторон КАК ВестиУчетСторон
	|ИЗ
	|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВидыВнутреннихДокументов КАК ВидыВнутреннихДокументов
	|		ПО ВнутренниеДокументы.ВидДокумента = ВидыВнутреннихДокументов.Ссылка
	|ГДЕ
	|	ВнутренниеДокументы.Ссылка = &amp;Документ
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыКонтрагенты.Контрагент КАК Контрагент
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
	|ГДЕ
	|	ВнутренниеДокументыКонтрагенты.Ссылка = &amp;Документ
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВнутренниеДокументыСтороны.Сторона КАК Организация
	|ИЗ
	|	Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
	|ГДЕ
	|	ВнутренниеДокументыСтороны.Ссылка = &amp;Документ
	|	И ВнутренниеДокументыСтороны.Сторона ССЫЛКА Справочник.Организации
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	ТекущиеСостоянияДокументов.Состояние КАК Состояние,
	|	ТекущиеСостоянияДокументов.ДатаУстановки КАК ДатаУстановки
	|ИЗ
	|	РегистрСведений.ТекущиеСостоянияДокументов КАК ТекущиеСостоянияДокументов
	|ГДЕ
	|	ТекущиеСостоянияДокументов.Документ = &amp;Документ
	|	И ТекущиеСостоянияДокументов.Состояние = &amp;Состояние";
Запрос.УстановитьПараметр("Документ", Объект.Ссылка);
Запрос.УстановитьПараметр("Состояние", Перечисления.СостоянияДокументов.Согласован);
МассивРезультатов = Запрос.ВыполнитьПакет();

ДанныеДокумента = МассивРезультатов[0].Выбрать();
ДанныеДокумента.Следующий();

Если Параметры.ОграничиватьВыгрузку Тогда
	
	Отказ = Истина;
	
	Для Каждого СтрокаКонтрагент Из МассивРезультатов[1].Выгрузить() Цикл
		Если Параметры.Контрагенты.Найти(СтрокаКонтрагент.Контрагент) &lt;&gt; Неопределено Тогда 
		    Отказ = Ложь;
			Прервать;
		КонецЕсли;
	КонецЦикла;
	
	Если Отказ Тогда
	
		Если ДанныеДокумента.ВестиУчетСторон Тогда
			Для Каждого СтрокаОрганизация Из МассивРезультатов[2].Выгрузить() Цикл
				Если Параметры.Организации.Найти(СтрокаОрганизация.Организация) &lt;&gt; Неопределено Тогда 
				    Отказ = Ложь;
					Прервать;
				КонецЕсли;
			КонецЦикла;
		Иначе
			Если Параметры.Организации.Найти(ДанныеДокумента.Организация) &lt;&gt; Неопределено Тогда
				Отказ = Ложь;
			КонецЕсли
		КонецЕсли;
	
	КонецЕсли;
	
КонецЕсли;

Если Не Отказ Тогда

	// какое правило применять
	Если Параметры.ВидыДокументовДоговор.Найти(ДанныеДокумента.ВидДокумента) &lt;&gt; Неопределено Тогда
		
		Если МассивРезультатов[3].Пустой() Тогда	// последняя проверка: выгружаемый документ должен быть согласован
			Отказ = Истина;
		Иначе
			Если Не ЗначениеЗаполнено(ДанныеДокумента.Контрагент) Тогда
				Отказ = Истина;
			Иначе
				ИмяПКО = "Договоры";
			КонецЕсли;
		КонецЕсли;
		
	ИначеЕсли Параметры.ВидыДокументовЗаявкаНаОперацию.Найти(ДанныеДокумента.ВидДокумента) &lt;&gt; Неопределено Тогда
		
		Если МассивРезультатов[3].Пустой() Тогда	// последняя проверка: выгружаемый документ должен быть согласован
			Отказ = Истина;
		Иначе
			ИмяПКО = "ЗаявкиНаОперации";
			Выборка = МассивРезультатов[3].Выбрать();
			Выборка.Следующий();
			ВходящиеДанные = Новый Структура;
			ВходящиеДанные.Вставить("ДатаУстановкиСостояния", Выборка.ДатаУстановки);
		КонецЕсли;
		
	Иначе
		
		Отказ = Истина;
		
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="КонтрагентПодлежитВыгрузке" ИспользуетсяПриЗагрузке="false">
			<Текст>Если Параметры.ОграничиватьВыгрузку Тогда
	Если Параметры.Контрагенты.Найти(Контрагент) &lt;&gt; Неопределено Тогда
		КонтрагентПодлежитВыгрузке = Истина;
	Иначе
		// хотя бы один документ выбранных организаций выбранного вида
		Запрос = Новый Запрос(
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 1
			|	ИСТИНА КАК ЕстьДокументы
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО (ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка)
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент = &amp;Контрагент
			|	И ВнутренниеДокументы.Организация В (&amp;Организации)
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОперацию)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления
			|
			|ОБЪЕДИНИТЬ ВСЕ
			|
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	ИСТИНА
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыСтороны.Ссылка
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент = &amp;Контрагент
			|	И ВнутренниеДокументыСтороны.Сторона В(&amp;Организации)
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОперацию)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления");
		Запрос.УстановитьПараметр("Контрагент", Контрагент);
		Запрос.УстановитьПараметр("ВидыДокументовДоговор", Параметры.ВидыДокументовДоговор);
		Запрос.УстановитьПараметр("ВидыДокументовЗаявкаНаОперацию", Параметры.ВидыДокументовЗаявкаНаОперацию);
		Запрос.УстановитьПараметр("Организации", Параметры.Организации);
		КонтрагентПодлежитВыгрузке = Не Запрос.Выполнить().Пустой();
	КонецЕсли;
Иначе // без отбора по организациям
	КонтрагентПодлежитВыгрузке = Истина;
КонецЕсли;</Текст>
			<Параметры>Контрагент, КонтрагентПодлежитВыгрузке</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ОрганизацияПодлежитВыгрузке" ИспользуетсяПриЗагрузке="false">
			<Текст>Если Параметры.ОграничиватьВыгрузку Тогда
	Если Параметры.Организации.Найти(Организация) &lt;&gt; Неопределено Тогда
		ОрганизацияПодлежитВыгрузке = Истина;
	Иначе
		// хотя бы один документ выбранных организаций выбранного вида
		Запрос = Новый Запрос(
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 1
			|	ИСТИНА КАК ЕстьДокументы
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО (ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка)
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент В(&amp;Контрагенты)
			|	И ВнутренниеДокументы.Организация = &amp;Организация
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОперацию)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления
			|
			|ОБЪЕДИНИТЬ ВСЕ
			|
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	ИСТИНА
			|ИЗ
			|	Справочник.ВнутренниеДокументы КАК ВнутренниеДокументы
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Контрагенты КАК ВнутренниеДокументыКонтрагенты
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыКонтрагенты.Ссылка
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ВнутренниеДокументы.Стороны КАК ВнутренниеДокументыСтороны
			|		ПО ВнутренниеДокументы.Ссылка = ВнутренниеДокументыСтороны.Ссылка
			|ГДЕ
			|	ВнутренниеДокументыКонтрагенты.Контрагент В(&amp;Контрагенты)
			|	И ВнутренниеДокументыСтороны.Сторона = &amp;Организация
			|	И ВнутренниеДокументы.ВидДокумента В (&amp;ВидыДокументовДоговор, &amp;ВидыДокументовЗаявкаНаОперацию)
			|	И НЕ ВнутренниеДокументы.ПометкаУдаления");
		Запрос.УстановитьПараметр("Организация", Организация);
		Запрос.УстановитьПараметр("ВидыДокументовДоговор", Параметры.ВидыДокументовДоговор);
		Запрос.УстановитьПараметр("ВидыДокументовЗаявкаНаОперацию", Параметры.ВидыДокументовЗаявкаНаОперацию);
		Запрос.УстановитьПараметр("Контрагенты", Параметры.Контрагенты);
		ОрганизацияПодлежитВыгрузке = Не Запрос.Выполнить().Пустой();
	КонецЕсли;
Иначе // без отбора по организациям
	ОрганизацияПодлежитВыгрузке = Истина;
КонецЕсли;</Текст>
			<Параметры>Организация, ОрганизацияПодлежитВыгрузке</Параметры>
		</Алгоритм>
	</Алгоритмы>
	<Запросы/>
</ПравилаОбмена>