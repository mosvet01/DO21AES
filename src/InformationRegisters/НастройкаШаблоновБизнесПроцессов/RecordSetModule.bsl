#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
#Область ОбработчикиСобытий

Процедура ПриЗаписи(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если ЭтотОбъект.Количество() <> 0 Тогда
		Для Каждого Запись Из ЭтотОбъект Цикл
			РегистрыСведений.КоличествоНастроекШаблоновПроцессов.ОбновитьСведенияПоШаблону(
				Запись.ШаблонБизнесПроцесса);
		КонецЦикла;	
	Иначе		
		
		ШаблонПроцесса = Отбор.ШаблонБизнесПроцесса.Значение;
		
		Если ЗначениеЗаполнено(ШаблонПроцесса)
			И ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ШаблонПроцесса, "Ссылка") <> Неопределено Тогда
		
			РегистрыСведений.КоличествоНастроекШаблоновПроцессов.ОбновитьСведенияПоШаблону(
				ШаблонПроцесса);
				
		КонецЕсли;		
		
	КонецЕсли;	
	
КонецПроцедуры

#КонецОбласти

#Иначе
ВызватьИсключение НСтр("ru = 'Недопустимый вызов объекта на клиенте.'");
#КонецЕсли